webpackJsonp([137],{"/mVA":function(t,e,o){"use strict";var i=o("J0i4");e.a={components:{SectionTitle:i.a},head:function(){return{title:"新增Icon"}},data:function(){return{formItem:{iconName:"",destUrl:"",enable:"0",iconType:"",iconLocation:"",orderNum:"",iconUrl:"",iconDesc:""},isError:!1,maxLength:30,iconType:[{label:"原生页面",value:"NATIVE"},{label:"html页面",value:"HTML"}],locationList:[],imgUrl:"",ruleCustom:{iconName:[{required:!0,message:"请输入图标名称",trigger:"change"}],destUrl:[{required:!0,message:"请输入跳转地址",trigger:"change"}],enable:[{required:!0,message:"请选择是否启用",trigger:"change"}],iconType:[{required:!0,message:"请选择图标类型",trigger:"change"}],iconLocation:[{required:!0,message:"请选择Icon位置",trigger:"change"}],orderNum:[{required:!0,message:"请输入排序号",trigger:"change"}],iconDesc:[{required:!0,message:"请输入图片描述",trigger:"change"}]}}},mounted:function(){GLOBALSIDESWITCH("false"),this.getLocationList()},methods:{getLocationList:function(){var t=this;this.$http.get("get-icon-location","").then(function(e){t.locationList=e.data.locations}).catch(function(e){t.$Notice.error({title:e.message})})},handleSubmit:function(t){var e=this;this.$Notice.config({top:80,duration:3});var o=this;this.formItem.iconUrl||(this.isError=!0),this.$refs[t].validate(function(t){t&&e.formItem.iconUrl?o.submitCreate():o.$Notice.error({title:"请填写完表单"})})},submitCreate:function(){var t=this;this.$http.post("create-icon",this.formItem).then(function(e){t.$Notice.success({title:"新建成功"}),setTimeout(function(){window.close(),window.opener.location.reload()},1e3)}).catch(function(e){t.$Notice.error({title:e.message})})},handleSuccess:function(t,e){1==t.code&&(this.isError=!1,this.formItem.iconUrl=t.data.imgUrl,this.imgUrl=t.data.imgUrl)},handleRemove:function(){this.formItem.iconUrl="",this.imgUrl=""},handleError:function(t,e){this.$Notice.error({title:t.message})}}}},J0i4:function(t,e,o){"use strict";function i(t){o("pY0k")}var r=o("tBD1"),a=o("P67S"),n=o("VU/8"),l=i,s=n(r.a,a.a,!1,l,"data-v-872aada8",null);e.a=s.exports},P67S:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.classType[t.type]},[t._v("\n    "+t._s(t.title)+"\n")])},r=[],a={render:i,staticRenderFns:r};e.a=a},PLXc:function(t,e,o){var i=o("k4a8");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o("rjj0")("43dabc59",i,!0,{sourceMap:!1})},"QtX/":function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"g-Icon-created"},[o("SectionTitle",{attrs:{title:"新增Icon"}}),o("div",{staticClass:"u-form"},[o("Form",{ref:"formItems",attrs:{model:t.formItem,rules:t.ruleCustom,"label-width":100}},[o("FormItem",{staticStyle:{width:"352px"},attrs:{label:"图标名称：",prop:"iconName"}},[o("Input",{attrs:{placeholder:"请输入图标名称"},model:{value:t.formItem.iconName,callback:function(e){t.$set(t.formItem,"iconName",e)},expression:"formItem.iconName"}})],1),o("FormItem",{staticStyle:{width:"352px"},attrs:{label:"跳转地址：",prop:"destUrl"}},[o("Input",{attrs:{placeholder:"请输入跳转地址"},model:{value:t.formItem.destUrl,callback:function(e){t.$set(t.formItem,"destUrl",e)},expression:"formItem.destUrl"}})],1),o("FormItem",{staticStyle:{width:"352px"},attrs:{label:"是否启用：",prop:"enable"}},[o("RadioGroup",{model:{value:t.formItem.enable,callback:function(e){t.$set(t.formItem,"enable",e)},expression:"formItem.enable"}},[o("Radio",{attrs:{label:"1"}},[t._v("\n                     是\n                ")]),o("Radio",{attrs:{label:"0"}},[t._v("\n                     否\n                ")])],1)],1),o("FormItem",{staticStyle:{width:"352px"},attrs:{label:"图标类型：",prop:"iconType"}},[o("Select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择"},model:{value:t.formItem.iconType,callback:function(e){t.$set(t.formItem,"iconType",e)},expression:"formItem.iconType"}},t._l(t.iconType,function(e){return o("Option",{key:e.value,attrs:{value:e.value}},[t._v("\n                    "+t._s(e.label)+"\n                ")])}))],1),o("FormItem",{staticStyle:{width:"352px"},attrs:{label:"Icon位置：",prop:"iconLocation"}},[o("Select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择Icon位置"},model:{value:t.formItem.iconLocation,callback:function(e){t.$set(t.formItem,"iconLocation",e)},expression:"formItem.iconLocation"}},t._l(t.locationList,function(e){return o("Option",{key:e.code,attrs:{value:e.code}},[t._v("\n                    "+t._s(e.name)+"\n                ")])}))],1),o("FormItem",{staticStyle:{width:"352px"},attrs:{label:"排序号：",prop:"orderNum"}},[o("Input",{attrs:{placeholder:"请输入排序号"},model:{value:t.formItem.orderNum,callback:function(e){t.$set(t.formItem,"orderNum",e)},expression:"formItem.orderNum"}})],1),o("FormItem",{staticClass:"ivu-form-item-required",staticStyle:{width:"352px"},attrs:{label:"Icon："}},[this.imgUrl?o("div",{staticClass:"demo-upload-list"},[o("img",{attrs:{src:this.imgUrl}}),o("div",{staticClass:"demo-upload-list-cover"},[o("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleRemove()}}})],1)]):t._e(),this.imgUrl?t._e():o("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{name:"imgUrl","show-upload-list":!1,format:["jpg","jpeg","png","gif"],"with-credentials":"","on-success":t.handleSuccess,"on-error":t.handleError,type:"drag",action:"/api/krspace-finance-web/app/icon/upload"}},[o("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[o("Icon",{attrs:{type:"camera",size:"20"}})],1)]),t.isError?o("div",{staticClass:"u-error"},[t._v("请选择要上传的图片")]):t._e()],1),o("div",{}),o("FormItem",{staticStyle:{width:"552px"},attrs:{label:"图标描述：",prop:"iconDesc"}},[o("Input",{attrs:{placeholder:"留言最多30字",type:"textarea",maxlength:t.maxLength},model:{value:t.formItem.iconDesc,callback:function(e){t.$set(t.formItem,"iconDesc",e)},expression:"formItem.iconDesc"}})],1),o("FormItem",{staticStyle:{"padding-left":"24px","margin-top":"40px"}},[o("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formItems")}}},[t._v("提交")])],1)],1)],1)],1)},r=[],a={render:i,staticRenderFns:r};e.a=a},Ucgj:function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,'.section-title[data-v-872aada8]{border-bottom:1px solid #e8e9e9;height:50px;font-size:16px;color:#666;line-height:50px;padding-left:25px;position:relative}.section-title[data-v-872aada8]:before{height:24px;border:2px solid #499df1;position:absolute;width:0;content:"";display:inline-block;top:12px;left:0}.section-detail-title[data-v-872aada8]{border-bottom:1px solid #e8e9e9;height:50px;font-size:16px;color:#666;line-height:50px;padding-left:15px;position:relative}',""])},k4a8:function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,'.g-Icon-created .u-form{margin-top:40px;margin-left:40px}.g-Icon-created .u-error{color:#ed3f14;font-size:12px}.g-Icon-created .ivu-form-item-required .ivu-form-item-label:before{content:"*";display:inline-block;margin-right:4px;line-height:1;font-family:SimSun;font-size:12px;color:#ed3f14}.g-Icon-created .demo-upload-list{display:inline-block;width:60px;height:60px;text-align:center;line-height:60px;border:1px solid transparent;border-radius:4px;overflow:hidden;background:#fff;position:relative;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.2);box-shadow:0 1px 1px rgba(0,0,0,.2);margin-right:4px}.g-Icon-created .demo-upload-list img{width:100%;height:100%}.g-Icon-created .demo-upload-list-cover{display:none;position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.6)}.g-Icon-created .demo-upload-list:hover .demo-upload-list-cover{display:block}.g-Icon-created .demo-upload-list-cover i{color:#fff;font-size:20px;cursor:pointer;margin:0 2px}',""])},pY0k:function(t,e,o){var i=o("Ucgj");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o("rjj0")("f811f5dc",i,!0,{sourceMap:!1})},tBD1:function(t,e,o){"use strict";e.a={props:{title:String,type:{default:"listTitle",type:String}},data:function(){return{classType:{listTitle:"section-title",detailTitle:"section-detail-title"}}}}},uppG:function(t,e,o){"use strict";function i(t){o("PLXc")}Object.defineProperty(e,"__esModule",{value:!0});var r=o("/mVA"),a=o("QtX/"),n=o("VU/8"),l=i,s=n(r.a,a.a,!1,l,null,null);e.default=s.exports}});
//# sourceMappingURL=create.500131f9cc76c7d3e48a.js.map