webpackJsonp([136],{"2Ngy":function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,'.g-Icon-edit .u-form{margin-top:40px;margin-left:40px}.g-Icon-edit .u-error{color:#ed3f14;font-size:12px}.g-Icon-edit .ivu-form-item-required .ivu-form-item-label:before{content:"*";display:inline-block;margin-right:4px;line-height:1;font-family:SimSun;font-size:12px;color:#ed3f14}.g-Icon-edit .demo-upload-list{display:inline-block;width:60px;height:60px;text-align:center;line-height:60px;border:1px solid transparent;border-radius:4px;overflow:hidden;background:#fff;position:relative;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.2);box-shadow:0 1px 1px rgba(0,0,0,.2);margin-right:4px}.g-Icon-edit .demo-upload-list img{width:100%;height:100%}.g-Icon-edit .demo-upload-list-cover{display:none;position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.6)}.g-Icon-edit .demo-upload-list:hover .demo-upload-list-cover{display:block}.g-Icon-edit .demo-upload-list-cover i{color:#fff;font-size:20px;cursor:pointer;margin:0 2px}',""])},"8kKD":function(t,e,i){"use strict";var o=i("J0i4");e.a={components:{SectionTitle:o.a},head:function(){return{title:"编辑Icon"}},data:function(){return{formItem:{iconName:"",destUrl:"",enable:"0",iconType:"",iconLocation:"",orderNum:"",iconUrl:"",iconDesc:""},isError:!1,maxLength:30,iconType:[{label:"原生页面",value:"NATIVE"},{label:"html页面",value:"HTML"}],locationList:[],imgUrl:"",ruleCustom:{iconName:[{required:!0,message:"请输入图标名称",trigger:"change"}],destUrl:[{required:!0,message:"请输入跳转地址",trigger:"change"}],enable:[{required:!0,message:"请选择是否启用",trigger:"change"}],iconType:[{required:!0,message:"请选择图标类型",trigger:"change"}],iconLocation:[{required:!0,message:"请选择Icon位置",trigger:"change"}],orderNum:[{required:!0,message:"请输入排序号",trigger:"change"}],iconDesc:[{required:!0,message:"请输入图片描述",trigger:"change"}]}}},mounted:function(){GLOBALSIDESWITCH("false"),this.getLocationList(),this.getEditDetail()},methods:{getEditDetail:function(){var t=this,e=this.$route.params,i=e.iconId;this.$http.get("get-icon-detail",{iconId:i}).then(function(e){t.formItem=e.data,t.formItem.enable=e.data.enable.toString(),t.formItem.orderNum=e.data.orderNum.toString(),t.imgUrl=e.data.iconUrl}).catch(function(e){t.$Notice.error({title:e.message})})},getLocationList:function(){var t=this;this.$http.get("get-icon-location","").then(function(e){t.locationList=e.data.locations}).catch(function(e){t.$Notice.error({title:e.message})})},handleSubmit:function(t){var e=this;this.$Notice.config({top:80,duration:3});var i=this;this.formItem.iconUrl||(this.isError=!0),this.$refs[t].validate(function(t){t&&e.formItem.iconUrl?i.submitCreate():i.$Notice.error({title:"请填写完表单"})})},submitCreate:function(){var t=this,e=this.$route.params,i=this.formItem;i.iconId=e.iconId,this.$http.post("edit-icon",i).then(function(e){t.$Notice.success({title:"编辑成功"}),setTimeout(function(){window.close(),window.opener.location.reload()},1e3)}).catch(function(e){t.$Notice.error({title:e.message})})},handleSuccess:function(t,e){1==t.code&&(this.isError=!1,this.formItem.iconUrl=t.data.imgUrl,this.imgUrl=t.data.imgUrl)},handleRemove:function(){this.formItem.iconUrl="",this.imgUrl=""}}}},GKGZ:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"g-Icon-edit"},[i("SectionTitle",{attrs:{title:"编辑Icon"}}),i("div",{staticClass:"u-form"},[i("Form",{ref:"formItems",attrs:{model:t.formItem,rules:t.ruleCustom,"label-width":100}},[i("FormItem",{staticStyle:{width:"352px"},attrs:{label:"图标名称：",prop:"iconName"}},[i("Input",{attrs:{placeholder:"请输入图标名称"},model:{value:t.formItem.iconName,callback:function(e){t.$set(t.formItem,"iconName",e)},expression:"formItem.iconName"}})],1),i("FormItem",{staticStyle:{width:"352px"},attrs:{label:"跳转地址：",prop:"destUrl"}},[i("Input",{attrs:{placeholder:"请输入跳转地址"},model:{value:t.formItem.destUrl,callback:function(e){t.$set(t.formItem,"destUrl",e)},expression:"formItem.destUrl"}})],1),i("FormItem",{staticStyle:{width:"352px"},attrs:{label:"是否启用：",prop:"enable"}},[i("RadioGroup",{model:{value:t.formItem.enable,callback:function(e){t.$set(t.formItem,"enable",e)},expression:"formItem.enable"}},[i("Radio",{attrs:{label:"1"}},[t._v("\n                     是\n                ")]),i("Radio",{attrs:{label:"0"}},[t._v("\n                     否\n                ")])],1)],1),i("FormItem",{staticStyle:{width:"352px"},attrs:{label:"图标类型：",prop:"iconType"}},[i("Select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择"},model:{value:t.formItem.iconType,callback:function(e){t.$set(t.formItem,"iconType",e)},expression:"formItem.iconType"}},t._l(t.iconType,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v("\n                    "+t._s(e.label)+"\n                ")])}))],1),i("FormItem",{staticStyle:{width:"352px"},attrs:{label:"Icon位置：",prop:"iconLocation"}},[i("Select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择Icon位置"},model:{value:t.formItem.iconLocation,callback:function(e){t.$set(t.formItem,"iconLocation",e)},expression:"formItem.iconLocation"}},t._l(t.locationList,function(e){return i("Option",{key:e.code,attrs:{value:e.code}},[t._v("\n                    "+t._s(e.name)+"\n                ")])}))],1),i("FormItem",{staticStyle:{width:"352px"},attrs:{label:"排序号：",prop:"orderNum"}},[i("Input",{attrs:{placeholder:"请输入排序号"},model:{value:t.formItem.orderNum,callback:function(e){t.$set(t.formItem,"orderNum",e)},expression:"formItem.orderNum"}})],1),i("FormItem",{staticClass:"ivu-form-item-required",staticStyle:{width:"352px"},attrs:{label:"Icon："}},[this.imgUrl?i("div",{staticClass:"demo-upload-list"},[i("img",{attrs:{src:this.imgUrl}}),i("div",{staticClass:"demo-upload-list-cover"},[i("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleRemove()}}})],1)]):t._e(),this.imgUrl?t._e():i("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{name:"imgUrl","show-upload-list":!1,format:["jpg","jpeg","png"],"with-credentials":"","on-success":t.handleSuccess,type:"drag",action:"/api/krspace-finance-web/app/icon/upload"}},[i("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[i("Icon",{attrs:{type:"camera",size:"20"}})],1)]),t.isError?i("div",{staticClass:"u-error"},[t._v("请选择要上传的图片")]):t._e()],1),i("div",{}),i("FormItem",{staticStyle:{width:"552px"},attrs:{label:"图标描述：",prop:"iconDesc"}},[i("Input",{attrs:{placeholder:"留言最多30字",type:"textarea",maxlength:t.maxLength},model:{value:t.formItem.iconDesc,callback:function(e){t.$set(t.formItem,"iconDesc",e)},expression:"formItem.iconDesc"}})],1),i("FormItem",{staticStyle:{"padding-left":"24px","margin-top":"40px"}},[i("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formItems")}}},[t._v("提交")])],1)],1)],1)],1)},r=[],a={render:o,staticRenderFns:r};e.a=a},J0i4:function(t,e,i){"use strict";function o(t){i("pY0k")}var r=i("tBD1"),a=i("P67S"),n=i("VU/8"),l=o,s=n(r.a,a.a,!1,l,"data-v-872aada8",null);e.a=s.exports},P67S:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.classType[t.type]},[t._v("\n    "+t._s(t.title)+"\n")])},r=[],a={render:o,staticRenderFns:r};e.a=a},Ucgj:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,'.section-title[data-v-872aada8]{border-bottom:1px solid #e8e9e9;height:50px;font-size:16px;color:#666;line-height:50px;padding-left:25px;position:relative}.section-title[data-v-872aada8]:before{height:24px;border:2px solid #499df1;position:absolute;width:0;content:"";display:inline-block;top:12px;left:0}.section-detail-title[data-v-872aada8]{border-bottom:1px solid #e8e9e9;height:50px;font-size:16px;color:#666;line-height:50px;padding-left:15px;position:relative}',""])},loF7:function(t,e,i){var o=i("2Ngy");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i("rjj0")("63e6e198",o,!0,{sourceMap:!1})},pY0k:function(t,e,i){var o=i("Ucgj");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i("rjj0")("f811f5dc",o,!0,{sourceMap:!1})},tBD1:function(t,e,i){"use strict";e.a={props:{title:String,type:{default:"listTitle",type:String}},data:function(){return{classType:{listTitle:"section-title",detailTitle:"section-detail-title"}}}}},wP5c:function(t,e,i){"use strict";function o(t){i("loF7")}Object.defineProperty(e,"__esModule",{value:!0});var r=i("8kKD"),a=i("GKGZ"),n=i("VU/8"),l=o,s=n(r.a,a.a,!1,l,null,null);e.default=s.exports}});
//# sourceMappingURL=_iconId.639ce1c6c613d06c95e4.js.map