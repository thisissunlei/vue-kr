webpackJsonp([110],{"+nse":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".com-select-community ::-webkit-input-placeholder{color:#666}.com-select-community ::-moz-placeholder{color:#666}.com-select-community :-ms-input-placeholder{color:#666}.com-select-community input:-moz-placeholder{color:#666}",""])},"4xOH":function(t,e,a){var n=a("g8+Z");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("008b8d31",n,!0,{sourceMap:!1})},"77Yh":function(t,e,a){"use strict";function n(t){a("ev4r")}var r=a("e4V2"),o=a("OVYt"),i=a("VU/8"),c=n,s=i(r.a,o.a,!1,c,null,null);e.a=s.exports},"9pIO":function(t,e,a){"use strict";function n(t,e){if(t)for(var a=t.querySelectorAll(".ivu-table-sort"),n=0;n<a.length;n++){var o=a[n];o.style.width="auto",o.style.height="40px";var i=o.parentNode,c=i.querySelectorAll("span")[0].innerHTML;r(o,t,c,e)}}function r(t,e,a,n){t.innerHTML="";var r=document.createElement("span");r.className=i("init"),t.appendChild(r),r.onclick=function(t){var r=t.target,s=r.className;c(e),r.className=i(s),n({label:a,order:o(s)})}}function o(t){return"kr-table-sort-icon-asc"===t?"desc":"asc"}function i(t){switch(t){case"kr-table-sort-icon-init":return"kr-table-sort-icon-asc";case"kr-table-sort-icon-asc":return"kr-table-sort-icon-desc";case"kr-table-sort-icon-desc":return"kr-table-sort-icon-asc";default:return"kr-table-sort-icon-init"}}function c(t){for(var e=t.querySelectorAll(".ivu-table-sort span"),a=0;a<e.length;a++){e[a].className=i("init")}}e.a=n},Asao:function(t,e,a){"use strict";function n(){switch((0,Object.prototype.toString.call)(0)){case"[object String]":return"string";case"[object Number]":return"number";case"[object Boolean]":return"boolean";case"[object Symbol]":return"symbol";case"[object Undefined]":return"undefined";case"[object Null]":return"null";case"[object Function]":return"function";case"[object Date]":return"date";case"[object Array]":return"array";case"[object RegExp]":return"regExp";case"[object Error]":return"error";case"[object HTMLDocument]":return"node";case"[object global]":return"global"}}e.a=n},Eqh0:function(t,e,a){"use strict";function n(t){if(t){return o.a.dateToStr("YYYY/MM/DD HH:mm:SS",new Date(t)).replace(/\//g,"-")}return""}var r=a("g4Hp"),o=a.n(r);e.a=n},GfqS:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"give-money"},[a("div",{staticClass:"title-type"},[t._v("打款总汇表")]),a("Table",{staticClass:"table-style",attrs:{border:"",columns:t.allColumns,data:t.summaryData}}),a("div",{staticClass:"title-type",staticStyle:{"margin-top":"30px"}},[t._v("打款变化明细表")]),a("div",{staticClass:"search"},[a("Form",{ref:"searchForm",attrs:{model:t.searchForm,inline:"","label-width":80}},[a("FormItem",{staticStyle:{"text-align":"left"},attrs:{label:"社区名称"}},[a("selectCommunities",{attrs:{test:"searchForm",onchange:t.changeCommunity}})],1),a("FormItem",{attrs:{label:"打款方式"}},[a("Select",{staticStyle:{width:"100px","text-align":"left"},attrs:{clearable:""},model:{value:t.searchForm.payWay,callback:function(e){t.$set(t.searchForm,"payWay",e)},expression:"searchForm.payWay"}},t._l(t.payment,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1),a("FormItem",{staticStyle:{position:"relative"},attrs:{label:"操作时间"}},[a("DatePicker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"开始时间"},model:{value:t.searchForm.startDate,callback:function(e){t.$set(t.searchForm,"startDate",e)},expression:"searchForm.startDate"}}),a("span",{staticStyle:{margin:"0 10px"}},[t._v("至")]),a("DatePicker",{staticStyle:{width:"130px"},attrs:{type:"date",placeholder:"结束时间"},model:{value:t.searchForm.endDate,callback:function(e){t.$set(t.searchForm,"endDate",e)},expression:"searchForm.endDate"}}),0!=t.timeError?a("div",{staticClass:"error"},[t._v(t._s(t.timeError))]):t._e()],1),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.searchSubmit("searchForm")}}},[t._v("查询")])],1)],1),a("Table",{attrs:{border:"",columns:t.detailColumns,data:t.detailList}}),a("div",{staticStyle:{margin:"10px 0",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:t.totalCount,"page-size":15,current:t.page,"show-total":"","show-elevator":""},on:{"update:current":function(e){t.page=e},"on-change":t.changePage}})],1)])],1)},r=[],o={render:n,staticRenderFns:r};e.a=o},IoNu:function(t,e){t.exports=function(t,e,a,n){function r(){function r(){i=Number(new Date),a.apply(s,u)}function c(){o=void 0}var s=this,l=Number(new Date)-i,u=arguments;n&&!o&&r(),o&&clearTimeout(o),void 0===n&&l>t?r():!0!==e&&(o=setTimeout(n?c:r,void 0===n?t-l:t))}var o,i=0;return"boolean"!=typeof e&&(n=a,a=e,e=void 0),r}},Jdso:function(t,e,a){"use strict";var n=a("woOf"),r=a.n(n),o=a("bsze"),i=a("g4Hp"),c=a.n(i),s=a("77Yh");e.a={components:{selectCommunities:s.a},data:function(){return{searchForm:{pageSize:15,page:1,customerId:this.$route.params.customer},payment:[{label:"银行转账",value:"BANKTRANSFER"},{value:"ALIAPPPAY",label:"支付宝"},{value:"FUNDS_TRANSFER",label:"资金转移"}],page:1,totalCount:1,allColumns:[{title:"序号",key:"id",width:100,align:"center"},{title:"社区名称",key:"communityName",align:"center"},{title:"总额（银行转账额+支付宝打款额+转社区款额）（元）",key:"amount",align:"center",render:function(t,e){return o.a.thousand((e.row.amount/100).toFixed(2))}},{title:"银行转账额（元）",key:"bankTransfer",align:"center",render:function(t,e){return o.a.thousand((e.row.bankTransfer/100).toFixed(2))}},{title:"转社区款额（元）",key:"communityTransfer",align:"center",render:function(t,e){return o.a.thousand((e.row.communityTransfer/100).toFixed(2))}}],detailColumns:[{title:"交易流水号",key:"tradeNo",width:100,align:"center",render:function(t,e){return e.row.tradeNo?e.row.tradeNo:"-"}},{title:"社区名称",key:"communityName",align:"center"},{title:"打款方式",key:"payWayName",align:"center"},{title:"打款金额（元）",key:"amount",align:"center",render:function(t,e){return o.a.thousand((e.row.amount/100).toFixed(2))}},{title:"账户名称",key:"payAccount",align:"center"},{title:"打款日期",key:"occurDate",align:"center",render:function(t,e){return c.a.dateToStr("YYYY-MM-DD",new Date(e.row.occurDate))}},{title:"操作人",key:"createrName",align:"center",render:function(t,e){return e.row.createrName?e.row.createrName:"系统自动"}},{title:"操作时间",key:"ctime",align:"center",render:function(t,e){return c.a.dateToStr("YYYY-MM-DD HH:mm:ss",new Date(e.row.ctime))}}],summaryData:[],detailList:[],timeError:!1}},methods:{changePage:function(t){var e=this.searchForm;e.startDate&&(e.startDate=c.a.dateToStr("YYYY-MM-DD 00:00:00",new Date(e.startDate))),e.endDate&&(e.endDate=c.a.dateToStr("YYYY-MM-DD 00:00:00",new Date(e.endDate))),e.page=t,this.page=t,this.getDetail(e)},searchSubmit:function(t){this.checkTime(),this.timeError||this.changePage(1)},getSummary:function(){var t=this,e=this.$route.params,a={customerId:e.customer};this.$http.get("payment-list",a).then(function(e){t.summaryData=e.data}).catch(function(e){t.$Notice.error({title:e.message})})},getDetail:function(t){var e=this;t=r()({},this.searchForm,t),this.$http.get("payment-detail",t).then(function(t){e.detailList=t.data.items,e.totalCount=t.data.totalCount}).catch(function(t){e.$Notice.error({title:t.message})})},changeCommunity:function(t){this.searchForm.communityId=t||""},checkTime:function(){if(!this.searchForm.startDate||!this.searchForm.endDate)return void(this.timeError=!1);if(this.searchForm.startDate&&this.searchForm.endDate){var t=new Date(this.searchForm.startDate).getTime(),e=new Date(this.searchForm.endDate).getTime();this.timeError=t>e&&"结束时间不得大于开始时间"}}},mounted:function(){GLOBALSIDESWITCH("false"),this.getSummary(),this.getDetail()}}},OVYt:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"com-select-community"},[a("Select",{attrs:{"v-model":t.test.communityId,filterable:"",placeholder:t.value,disabled:t.disabled},on:{"on-change":t.changeContent}},t._l(t.options1,function(e,n){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1)},r=[],o={render:n,staticRenderFns:r};e.a=o},"Ta+G":function(t,e,a){"use strict";function n(t){var e=t.type;return"DOMMouseScroll"!=e&&"mousewheel"!=e||(t.delta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),t.srcElement&&!t.target&&(t.target=t.srcElement),t.preventDefault||void 0===t.returnValue||(t.preventDefault=function(){t.returnValue=!1}),t}var r=function(t,e,a,r){console.log("-------"),window.addEventListener?("mousewheel"===e&&void 0!==document.mozFullScreen&&(e="DOMMouseScroll"),t.addEventListener(e,function(t){a(n(t))},r||!1)):window.attachEvent&&t.attachEvent("on"+e,function(t){t=t||window.event,a(n(t))})};e.a=r},bsze:function(t,e,a){"use strict";function n(t){var e=["角","分"],a=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],n=[["元","万","亿"],["","拾","佰","仟"]],r=t<0?"负":"";t=Math.abs(t);var o="",i=(t+"").split(".").length,c="00";i>1&&(c=(t+"").split(".")[1]);for(var s=0;s<e.length;s++)a[c[s]]&&(o+=(a[c[s]]+e[s]).replace(/零./,""));o=o||"整",t=Math.floor(t);for(var s=0;s<n[0].length&&t>0;s++){for(var l="",u=0;u<n[1].length&&t>0;u++)l=a[t%10]+n[1][u]+l,t=Math.floor(t/10);o=l.replace(/(零.)*零$/,"").replace(/^$/,"零")+n[0][s]+o}return r+o.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")}function r(t){for(var e in t)t[e]=""}function o(t,e){var a=[];for(var n in t)t.hasOwnProperty(n)&&a.push(n+"="+t[n]);var e=e+"?"+a.join("&");window.location.href=e}function i(){var t=location.search,e=new Object;if(-1!=t.indexOf("?"))for(var a=t.substr(1),n=a.split("&"),r=0;r<n.length;r++)e[n[r].split("=")[0]]=unescape(n[r].split("=")[1]);return e}function c(t){var e=window.location.href,a=e.split("?")[0],n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r+"="+t[r]);a=a+"?"+n.join("&"),location.href=a}function s(t){for(var e,a=0,n={},r=[];e=t[a++];){var o=e.id;n[o]||(n[o]=!0,r.push(e))}return r}function l(t,e,a,n){for(var r=0;r<e.length;r++)for(var o=0;o<t.length;o++){var i=a?t[o][a]:t[o],c=n?e[r][n]:e[r];i==c&&t.splice(o,1)}return t}function u(t,e){var a=document.createElement("a");a.href=t,a.download=e,console.log("a--",a,t,e),a.click()}function d(t,e){var a=document.createElement("a");a.href=t,a.target="_blank",a.download=e,a.click()}function m(t,e){return e=parseInt(e,10),new Date(t,e,0).getDate()}function h(t,e){var a,n,r;return a=t.split("-"),n=new Date(a[1]+"/"+a[2]+"/"+a[0]),a=e.split("-"),r=new Date(a[1]+"/"+a[2]+"/"+a[0]),parseInt(Math.abs(n-r)/1e3/60/60/24)}function f(t,e,a){return void 0===a?F()(t,e,!1):F()(t,a,!1!==e)}function p(t,e){var a=new Date(t),n=new Date(a.getFullYear(),a.getMonth(),a.getDate()+e);a.getFullYear(),a.getMonth(),a.getDate();return n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()}function g(){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div"),a=e.style;a.position="absolute",a.top=0,a.left=0,a.pointerEvents="none",a.visibility="hidden",a.width="200px",a.height="150px",a.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var r=t.offsetWidth;return n===r&&(r=e.clientWidth),document.body.removeChild(e),n-r}function v(t,e){var a,n,r;return a=t.split("-"),n=new Date(a[1]+"/"+a[2]+"/"+a[0]),a=e.split("-"),r=new Date(a[1]+"/"+a[2]+"/"+a[0]),parseInt(Math.abs(n-r)/1e3/60/60/24)}var y=a("syeK"),b=a("Ta+G"),D=a("Asao"),w=a("IoNu"),F=a.n(w),S=a("Eqh0"),k=a("9pIO");e.a={smalltoBIG:n,clearForm:r,commonExport:o,getRequest:i,addParams:c,arrayNoRepeat:s,arrayCompare:l,thousand:y.a,downFile:u,addEvent:b.a,dataType:D.a,getDaysInOneMonth:m,dateDiff:h,debounce:f,getScrollBarSize:g,dateCompatible:S.a,tableSort:k.a,dateRange:p,downImg:d,timeRange:v}},e4V2:function(t,e,a){"use strict";a("9Jg8");e.a={props:["onchange","test","value","disabled"],data:function(){return{community:"",loading1:!1,options1:[],labelInValue:!0,clearable:!0}},mounted:function(){this.getCusomerList(" ")},methods:{changeContent:function(t){this.onchange(t)},remoteMethod1:function(t){var e=this;""!==t?(this.loading1=!0,setTimeout(function(){e.loading1=!1,e.getCusomerList(t)},200)):this.getCusomerList(" ")},getCusomerList:function(t){var e=this,a=[],n=this;this.$http.get("join-bill-community","").then(function(t){a=t.data.items,a.map(function(t){var e=t;return e.label=t.name,e.value=t.id+"",e}),n.loading1=!1,n.options1=a}).catch(function(t){e.$Notice.error({title:t.message})})}}}},ev4r:function(t,e,a){var n=a("+nse");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("19ee93de",n,!0,{sourceMap:!1})},"g8+Z":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".give-money[data-v-71147c68]{padding:5px 30px}.give-money .title-type[data-v-71147c68]{font-size:14px;color:#666;font-weight:500}.give-money .col[data-v-71147c68]{display:inline-block;padding-right:10px;vertical-align:top}.give-money .table-style[data-v-71147c68]{margin:20px 0}.give-money .error[data-v-71147c68]{position:absolute;right:0;color:red}.give-money .search[data-v-71147c68]{text-align:right;margin-top:-20px;margin-bottom:10px}",""])},syeK:function(t,e,a){"use strict";function n(t){if(null===t||void 0===t)return 0;if(isNaN(t))return"NaN";var e=t.toString();if(/^-?\d+\.?\d+$/.test(e))if(/^-?\d+$/.test(e))e=e.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");else{var a=e.split("."),n=a[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");e=n+"."+a[1]}return e}e.a=n},tkHe:function(t,e,a){"use strict";function n(t){a("4xOH")}Object.defineProperty(e,"__esModule",{value:!0});var r=a("Jdso"),o=a("GfqS"),i=a("VU/8"),c=n,s=i(r.a,o.a,!1,c,"data-v-71147c68",null);e.default=s.exports}});
//# sourceMappingURL=giveMoney.79d4eac9a546f949f4a6.js.map