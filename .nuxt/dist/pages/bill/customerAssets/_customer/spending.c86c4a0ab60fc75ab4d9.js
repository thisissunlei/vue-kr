webpackJsonp([130],{"4zoX":function(t,e,n){"use strict";function a(t){n("hY7b")}Object.defineProperty(e,"__esModule",{value:!0});var r=n("jlEQ"),o=n("tiLM"),i=n("VU/8"),l=a,c=i(r.a,o.a,!1,l,"data-v-3460c3d2",null);e.default=c.exports},"9pIO":function(t,e,n){"use strict";function a(t,e){if(t)for(var n=t.querySelectorAll(".ivu-table-sort"),a=0;a<n.length;a++){var o=n[a];o.style.width="auto",o.style.height="40px";var i=o.parentNode,l=i.querySelectorAll("span")[0].innerHTML;r(o,t,l,e)}}function r(t,e,n,a){t.innerHTML="";var r=document.createElement("span");r.className=i("init"),t.appendChild(r),r.onclick=function(t){var r=t.target,c=r.className;l(e),r.className=i(c),a({label:n,order:o(c)})}}function o(t){return"kr-table-sort-icon-asc"===t?"desc":"asc"}function i(t){switch(t){case"kr-table-sort-icon-init":return"kr-table-sort-icon-asc";case"kr-table-sort-icon-asc":return"kr-table-sort-icon-desc";case"kr-table-sort-icon-desc":return"kr-table-sort-icon-asc";default:return"kr-table-sort-icon-init"}}function l(t){for(var e=t.querySelectorAll(".ivu-table-sort span"),n=0;n<e.length;n++){e[n].className=i("init")}}e.a=a},Asao:function(t,e,n){"use strict";function a(){switch((0,Object.prototype.toString.call)(0)){case"[object String]":return"string";case"[object Number]":return"number";case"[object Boolean]":return"boolean";case"[object Symbol]":return"symbol";case"[object Undefined]":return"undefined";case"[object Null]":return"null";case"[object Function]":return"function";case"[object Date]":return"date";case"[object Array]":return"array";case"[object RegExp]":return"regExp";case"[object Error]":return"error";case"[object HTMLDocument]":return"node";case"[object global]":return"global"}}e.a=a},Eqh0:function(t,e,n){"use strict";function a(t){if(t){return o.a.dateToStr("YYYY/MM/DD HH:mm:SS",new Date(t)).replace(/\//g,"-")}return""}var r=n("g4Hp"),o=n.n(r);e.a=a},IoNu:function(t,e){t.exports=function(t,e,n,a){function r(){function r(){i=Number(new Date),n.apply(c,u)}function l(){o=void 0}var c=this,s=Number(new Date)-i,u=arguments;a&&!o&&r(),o&&clearTimeout(o),void 0===a&&s>t?r():!0!==e&&(o=setTimeout(a?l:r,void 0===a?t-s:t))}var o,i=0;return"boolean"!=typeof e&&(a=n,n=e,e=void 0),r}},"Ta+G":function(t,e,n){"use strict";function a(t){var e=t.type;return"DOMMouseScroll"!=e&&"mousewheel"!=e||(t.delta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),t.srcElement&&!t.target&&(t.target=t.srcElement),t.preventDefault||void 0===t.returnValue||(t.preventDefault=function(){t.returnValue=!1}),t}var r=function(t,e,n,r){console.log("-------"),window.addEventListener?("mousewheel"===e&&void 0!==document.mozFullScreen&&(e="DOMMouseScroll"),t.addEventListener(e,function(t){n(a(t))},r||!1)):window.attachEvent&&t.attachEvent("on"+e,function(t){t=t||window.event,n(a(t))})};e.a=r},bsze:function(t,e,n){"use strict";function a(t){var e=["角","分"],n=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],a=[["元","万","亿"],["","拾","佰","仟"]],r=t<0?"负":"";t=Math.abs(t);var o="",i=(t+"").split(".").length,l="00";i>1&&(l=(t+"").split(".")[1]);for(var c=0;c<e.length;c++)n[l[c]]&&(o+=(n[l[c]]+e[c]).replace(/零./,""));o=o||"整",t=Math.floor(t);for(var c=0;c<a[0].length&&t>0;c++){for(var s="",u=0;u<a[1].length&&t>0;u++)s=n[t%10]+a[1][u]+s,t=Math.floor(t/10);o=s.replace(/(零.)*零$/,"").replace(/^$/,"零")+a[0][c]+o}return r+o.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")}function r(t){for(var e in t)t[e]=""}function o(t,e){var n=[];for(var a in t)t.hasOwnProperty(a)&&n.push(a+"="+t[a]);var e=e+"?"+n.join("&");window.location.href=e}function i(){var t=location.search,e=new Object;if(-1!=t.indexOf("?"))for(var n=t.substr(1),a=n.split("&"),r=0;r<a.length;r++)e[a[r].split("=")[0]]=unescape(a[r].split("=")[1]);return e}function l(t){var e=window.location.href,n=e.split("?")[0],a=[];for(var r in t)t.hasOwnProperty(r)&&a.push(r+"="+t[r]);n=n+"?"+a.join("&"),location.href=n}function c(t){for(var e,n=0,a={},r=[];e=t[n++];){var o=e.id;a[o]||(a[o]=!0,r.push(e))}return r}function s(t,e,n,a){for(var r=0;r<e.length;r++)for(var o=0;o<t.length;o++){var i=n?t[o][n]:t[o],l=a?e[r][a]:e[r];i==l&&t.splice(o,1)}return t}function u(t,e){var n=document.createElement("a");n.href=t,n.download=e,console.log("a--",n,t,e),n.click()}function d(t,e){var n=document.createElement("a");n.href=t,n.target="_blank",n.download=e,n.click()}function f(t,e){return e=parseInt(e,10),new Date(t,e,0).getDate()}function p(t,e){var n,a,r;return n=t.split("-"),a=new Date(n[1]+"/"+n[2]+"/"+n[0]),n=e.split("-"),r=new Date(n[1]+"/"+n[2]+"/"+n[0]),parseInt(Math.abs(a-r)/1e3/60/60/24)}function h(t,e,n){return void 0===n?k()(t,e,!1):k()(t,n,!1!==e)}function g(t,e){var n=new Date(t),a=new Date(n.getFullYear(),n.getMonth(),n.getDate()+e);n.getFullYear(),n.getMonth(),n.getDate();return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()}function m(){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div"),n=e.style;n.position="absolute",n.top=0,n.left=0,n.pointerEvents="none",n.visibility="hidden",n.width="200px",n.height="150px",n.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var a=t.offsetWidth;e.style.overflow="scroll";var r=t.offsetWidth;return a===r&&(r=e.clientWidth),document.body.removeChild(e),a-r}function v(t,e){var n,a,r;return n=t.split("-"),a=new Date(n[1]+"/"+n[2]+"/"+n[0]),n=e.split("-"),r=new Date(n[1]+"/"+n[2]+"/"+n[0]),parseInt(Math.abs(a-r)/1e3/60/60/24)}var b=n("syeK"),y=n("Ta+G"),w=n("Asao"),D=n("IoNu"),k=n.n(D),S=n("Eqh0"),x=n("9pIO");e.a={smalltoBIG:a,clearForm:r,commonExport:o,getRequest:i,addParams:l,arrayNoRepeat:c,arrayCompare:s,thousand:b.a,downFile:u,addEvent:y.a,dataType:w.a,getDaysInOneMonth:f,dateDiff:p,debounce:h,getScrollBarSize:m,dateCompatible:S.a,tableSort:x.a,dateRange:g,downImg:d,timeRange:v}},hY7b:function(t,e,n){var a=n("s8L/");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("5467067e",a,!0,{sourceMap:!1})},jlEQ:function(t,e,n){"use strict";var a=n("woOf"),r=n.n(a),o=n("g4Hp"),i=n.n(o),l=n("bsze");e.a={components:{},data:function(){return{searchForm:{page:1,pageSize:15,customerId:this.$route.params.customer},feeType:[{label:"支付账单",value:"BILL"},{label:"支付订单",value:"ORDER"},{label:"充入余额",value:"BALANCE"}],page:1,totalCount:1,pageSize:15,allColumns:[{title:"序号",key:"id",width:100,align:"center"},{title:"社区名称",key:"communityName",align:"center"},{title:"工位服务费金额（元）",key:"rentAmount",align:"center",render:function(t,e){return l.a.thousand((e.row.rentAmount/100).toFixed(2))}},{title:"会议室服务费金额（元）",key:"mettingAmount",align:"center",render:function(t,e){return l.a.thousand((e.row.mettingAmount/100).toFixed(2))}},{title:"打印服务费金额（元）",key:"printAmount",align:"center",render:function(t,e){return l.a.thousand((e.row.printAmount/100).toFixed(2))}},{title:"其他服务费金额（元）",key:"otherAmount",align:"center",render:function(t,e){return l.a.thousand((e.row.otherAmount/100).toFixed(2))}},{title:"合计",key:"total",align:"center",render:function(t,e){return l.a.thousand((e.row.total/100).toFixed(2))}}],detailColumns:[{title:"编号",key:"id",width:100,align:"center"},{title:"社区名称",key:"communityName",align:"center"},{title:"费用类型",key:"feeTypeName",align:"center"},{title:"消费金额（元）",key:"amount",align:"center",render:function(t,e){return l.a.thousand((e.row.amount/100).toFixed(2))}},{title:"消费时间",key:"occurDate",align:"center",render:function(t,e){return i.a.dateToStr("YYYY-MM-DD",new Date(e.row.occurDate))}},{title:"相关记录",key:"records",align:"center"},{title:"操作人",key:"createrName",align:"center"}],detailList:[],summaryList:[]}},methods:{changePage:function(t){var e=this.searchForm;e.page=t,this.getDetail(e)},searchSubmit:function(t){console.log("searchSubmit",this.searchForm)},getSummary:function(){var t=this,e=this.$route.params,n={customerId:e.customer};this.$http.get("consumption-list",n).then(function(e){t.summaryList=e.data}).catch(function(e){t.$Notice.error({title:e.message})})},getDetail:function(t){var e=this;t=r()({},this.searchForm,t),this.$http.get("consumption-detail",t).then(function(t){e.detailList=t.data.items,e.totalCount=t.data.totalCount}).catch(function(t){e.$Notice.error({title:t.message})})}},mounted:function(){GLOBALSIDESWITCH("false"),this.getDetail(),this.getSummary()}}},"s8L/":function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,".spending[data-v-3460c3d2]{padding:5px 20px}.spending .title-type[data-v-3460c3d2]{font-size:14px;color:#666;font-weight:500}.spending .col[data-v-3460c3d2]{display:inline-block;padding-right:10px;vertical-align:top}.spending .table-style[data-v-3460c3d2]{margin:20px 0}.spending .search[data-v-3460c3d2]{text-align:right;margin-top:20px}",""])},syeK:function(t,e,n){"use strict";function a(t){if(null===t||void 0===t)return 0;if(isNaN(t))return"NaN";var e=t.toString();if(/^-?\d+\.?\d+$/.test(e))if(/^-?\d+$/.test(e))e=e.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");else{var n=e.split("."),a=n[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");e=a+"."+n[1]}return e}e.a=a},tiLM:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spending"},[n("div",{staticClass:"title-type"},[t._v("消费总汇表")]),n("Table",{staticClass:"table-style",attrs:{border:"",columns:t.allColumns,data:t.summaryList}}),n("div",{staticClass:"title-type",staticStyle:{"margin-top":"30px"}},[t._v("消费变化明细表")]),n("Table",{staticClass:"table-style",attrs:{border:"",columns:t.detailColumns,data:t.detailList}}),n("div",{staticStyle:{margin:"10px 0",overflow:"hidden"}},[n("div",{staticStyle:{float:"right"}},[n("Page",{attrs:{total:t.totalCount,"page-size":15,"show-total":"","show-elevator":""},on:{"on-change":t.changePage}})],1)])],1)},r=[],o={render:a,staticRenderFns:r};e.a=o}});
//# sourceMappingURL=spending.c86c4a0ab60fc75ab4d9.js.map