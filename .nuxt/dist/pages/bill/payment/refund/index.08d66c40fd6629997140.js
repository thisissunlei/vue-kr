webpackJsonp([67],{"+nse":function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,".com-select-community ::-webkit-input-placeholder{color:#666}.com-select-community ::-moz-placeholder{color:#666}.com-select-community :-ms-input-placeholder{color:#666}.com-select-community input:-moz-placeholder{color:#666}",""])},"4O/J":function(t,e,o){"use strict";e.a={name:"detailStyle",props:["info"]}},"77Yh":function(t,e,o){"use strict";function a(t){o("ev4r")}var i=o("e4V2"),n=o("OVYt"),r=o("VU/8"),c=a,s=r(i.a,n.a,!1,c,null,null);e.a=s.exports},J0i4:function(t,e,o){"use strict";function a(t){o("pY0k")}var i=o("tBD1"),n=o("P67S"),r=o("VU/8"),c=a,s=r(i.a,n.a,!1,c,"data-v-872aada8",null);e.a=s.exports},NpwQ:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ui-detail-layout"},[o("div",{staticClass:"ui-content-title"},[o("span",{staticClass:"ui-circle"},[t._v(t._s(t.info))])]),t._t("default")],2)},i=[],n={render:a,staticRenderFns:i};e.a=n},OVYt:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"com-select-community"},[o("Select",{attrs:{"v-model":t.test.communityId,filterable:"",placeholder:t.value,disabled:t.disabled},on:{"on-change":t.changeContent}},t._l(t.options1,function(e,a){return o("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1)},i=[],n={render:a,staticRenderFns:i};e.a=n},P67S:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.classType[t.type]},[t._v("\n    "+t._s(t.title)+"\n")])},i=[],n={render:a,staticRenderFns:i};e.a=n},Pc9l:function(t,e,o){"use strict";var a=o("J0i4"),i=o("77Yh"),n=o("t3Hv"),r=o("yWLh"),c=o("g4Hp"),s=o.n(c);e.a={components:{SectionTitle:a.a,DetailStyle:r.a,SearchCompany:n.a,selectCommunities:i.a},head:function(){return{title:"退款"}},data:function(){return{formItem:{customerId:"",communityId:"",value:"",tradeNo:"",payWay:"",occurDate:s.a.dateToStr("YYYY-MM-DD 00:00:00",new Date),payAccount:"",receiveAccount:"",remark:""},amount:"-",communityList:[],payWay:[{label:"支付宝",value:"ALIAPPPAY"},{label:"银行转账",value:"BANKTRANSFER"}],ruleCustom:{communityId:[{required:!0,message:"请选择社区",trigger:"change"}],customerId:[{required:!0,message:"请选择客户"}],value:[{required:!0,message:"请输入退款金额",trigger:"change"}],payWay:[{required:!0,message:"请选择支付方式",trigger:"change"}],payAccount:[{required:!0,message:"请输入付款账户",trigger:"change"}],receiveAccount:[{required:!0,message:"请输入收款账户",trigger:"change"}],occurDate:[{required:!0,type:"date",message:"请先选择退款时间",trigger:"change"}],tradeNo:[{required:!0,message:"请输入交易流水号",trigger:"change"}]}}},mounted:function(){var t=this;GLOBALSIDESWITCH("false"),this.$http.get("join-bill-community","").then(function(e){t.communityList=e.data.items}).catch(function(e){t.$Notice.error({title:e.message})})},methods:{config:function(){this.$Notice.config({top:80,duration:3})},getAmount:function(t,e){var o=this,a={customerId:t,communityId:e};this.$http.get("get-balance",a).then(function(t){o.amount=t.data.balance}).catch(function(t){o.$Notice.error({title:t.message})})},changeCommunity:function(t){t?(this.formItem.communityId=t,this.formItem.customerId&&this.getAmount(this.formItem.customerId,t)):this.formItem.communityId=""},onchange:function(t){t?(this.formItem.customerId=t,this.formItem.communityId&&this.getAmount(t,this.formItem.communityId)):(this.formItem.customerId="",this.amount="-")},handleSubmit:function(t){var e=this;this.$Notice.config({top:80,duration:3});this.$refs[t].validate(function(t){t?e.onRefundSubmit():e.$Notice.error({title:"请填写完表单"})})},onRefundSubmit:function(){var t=this;this.formItem.occurDate=s.a.dateToStr("YYYY-MM-dd",new Date(this.formItem.occurDate)),this.$http.get("payment-refund",this.formItem).then(function(e){t.$Notice.success({title:"退款成功"}),setTimeout(function(){window.close(),window.opener.location.reload()},1e3)}).catch(function(e){t.$Notice.error({title:e.message})})}}}},RAYS:function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,"",""])},REAY:function(t,e,o){var a=o("pqeA");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o("rjj0")("647a09f8",a,!0,{sourceMap:!1})},RPZT:function(t,e,o){var a=o("RAYS");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o("rjj0")("6bd8fba8",a,!0,{sourceMap:!1})},Ucgj:function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,'.section-title[data-v-872aada8]{border-bottom:1px solid #e8e9e9;height:50px;font-size:16px;color:#666;line-height:50px;padding-left:25px;position:relative}.section-title[data-v-872aada8]:before{height:24px;border:2px solid #499df1;position:absolute;width:0;content:"";display:inline-block;top:12px;left:0}.section-detail-title[data-v-872aada8]{border-bottom:1px solid #e8e9e9;height:50px;font-size:16px;color:#666;line-height:50px;padding-left:15px;position:relative}',""])},e4V2:function(t,e,o){"use strict";o("9Jg8");e.a={props:["onchange","test","value","disabled"],data:function(){return{community:"",loading1:!1,options1:[],labelInValue:!0,clearable:!0}},mounted:function(){this.getCusomerList(" ")},methods:{changeContent:function(t){this.onchange(t)},remoteMethod1:function(t){var e=this;""!==t?(this.loading1=!0,setTimeout(function(){e.loading1=!1,e.getCusomerList(t)},200)):this.getCusomerList(" ")},getCusomerList:function(t){var e=this,o=[],a=this;this.$http.get("join-bill-community","").then(function(t){o=t.data.items,o.map(function(t){var e=t;return e.label=t.name,e.value=t.id+"",e}),a.loading1=!1,a.options1=o}).catch(function(t){e.$Notice.error({title:t.message})})}}}},eYJq:function(t,e,o){"use strict";function a(t){o("REAY")}Object.defineProperty(e,"__esModule",{value:!0});var i=o("Pc9l"),n=o("qTlF"),r=o("VU/8"),c=a,s=r(i.a,n.a,!1,c,"data-v-6ab21fc3",null);e.default=s.exports},ev4r:function(t,e,o){var a=o("+nse");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o("rjj0")("19ee93de",a,!0,{sourceMap:!1})},gnYt:function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,'.u-clearfix{zoom:1}.u-clearfix:after{clear:both;content:".";height:0;display:block;visibility:hidden}.left{float:left}.ui-detail-layout{padding:0 24px;font-size:14px;color:#333;line-height:14px}.ui-detail-layout .ui-content-title{margin-bottom:24px}.ui-detail-layout .ui-circle{font-weight:700}.ui-detail-layout .ui-circle:before{content:"";width:7px;height:7px;display:inline-block;border:1px solid #333;border-radius:100% 100%;margin-right:6px;vertical-align:middle;margin-top:-3px}',""])},lNj5:function(t,e,o){var a=o("gnYt");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o("rjj0")("65d89b4e",a,!0,{sourceMap:!1})},nWBi:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"com-select-customers"},[o("Select",{attrs:{"v-model":t.test.customerId,filterable:"",remote:"",loading:t.loading1,"remote-method":t.remoteCustomer,clearable:""},on:{"on-change":t.changeContent}},t._l(t.companyOptions,function(e){return o("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1)},i=[],n={render:a,staticRenderFns:i};e.a=n},pY0k:function(t,e,o){var a=o("Ucgj");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o("rjj0")("f811f5dc",a,!0,{sourceMap:!1})},pqeA:function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,".g-refund .m-detail-content[data-v-6ab21fc3]{padding:30px 24px}.g-refund .col[data-v-6ab21fc3]{display:inline-block;width:33.33%;max-width:450px;padding-right:10px;vertical-align:top}.g-refund .u-txt-label[data-v-6ab21fc3]{font-size:12px;color:#495060;line-height:32px}.g-refund .u-txt-value[data-v-6ab21fc3]{color:#495060;font-size:14px;line-height:32px}",""])},qTlF:function(t,e,o){"use strict";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"g-refund"},[o("SectionTitle",{attrs:{title:"退款"}}),o("div",{staticClass:"m-detail-content"},[o("Form",{ref:"formItem",attrs:{model:t.formItem,rules:t.ruleCustom}},[o("DetailStyle",{attrs:{info:"基本信息"}},[o("Row",{staticStyle:{"margin-bottom":"30px"}},[o("Col",{staticClass:"col"},[o("FormItem",{staticStyle:{width:"252px"},attrs:{label:"客户名称",prop:"customerId"}},[o("SearchCompany",{staticStyle:{width:"250px"},attrs:{test:t.formItem,onchange:t.onchange}})],1)],1),o("Col",{staticClass:"col"},[o("FormItem",{staticStyle:{width:"252px"},attrs:{label:"所属社区",prop:"communityId"}},[o("selectCommunities",{attrs:{test:"formItem",onchange:t.changeCommunity}})],1)],1),o("Col",{staticClass:"col"},[o("div",{staticClass:"u-txt-label"},[t._v("账户余额")]),o("div",{staticClass:"u-txt-value"},[t._v(t._s(t.amount))])]),o("Col",{staticClass:"col"},[o("FormItem",{staticStyle:{width:"252px"},attrs:{label:"退款金额",prop:"value"}},[o("Input",{attrs:{placeholder:"请输入退款金额"},model:{value:t.formItem.value,callback:function(e){t.$set(t.formItem,"value",e)},expression:"formItem.value"}})],1)],1),o("Col",{staticClass:"col"},[o("FormItem",{staticStyle:{width:"252px"},attrs:{label:"交易流水号",prop:"tradeNo"}},[o("Input",{attrs:{placeholder:"请输入交易流水号"},model:{value:t.formItem.tradeNo,callback:function(e){t.$set(t.formItem,"tradeNo",e)},expression:"formItem.tradeNo"}})],1)],1),o("Col",{staticClass:"col"},[o("FormItem",{staticStyle:{width:"252px"},attrs:{label:"支付方式",prop:"payWay"}},[o("Select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择支付方式"},model:{value:t.formItem.payWay,callback:function(e){t.$set(t.formItem,"payWay",e)},expression:"formItem.payWay"}},t._l(t.payWay,function(e){return o("Option",{key:e.value,attrs:{value:e.value}},[t._v("\n                                        "+t._s(e.label)+"\n                                    ")])}))],1)],1),o("Col",{staticClass:"col"},[o("FormItem",{staticStyle:{width:"252px"},attrs:{label:"付款账户",prop:"payAccount"}},[o("Input",{attrs:{placeholder:"请输入付款账户"},model:{value:t.formItem.payAccount,callback:function(e){t.$set(t.formItem,"payAccount",e)},expression:"formItem.payAccount"}})],1)],1),o("Col",{staticClass:"col"},[o("FormItem",{staticStyle:{width:"252px"},attrs:{label:"收款账户",prop:"receiveAccount"}},[o("Input",{attrs:{placeholder:"请输入收款账户"},model:{value:t.formItem.receiveAccount,callback:function(e){t.$set(t.formItem,"receiveAccount",e)},expression:"formItem.receiveAccount"}})],1)],1),o("Col",{staticClass:"col"},[o("FormItem",{staticStyle:{width:"252px"},attrs:{label:"退款日期",prop:"occurDate"}},[o("DatePicker",{staticStyle:{display:"block"},attrs:{type:"date",placeholder:"请选择退款日期",format:"yyyy-MM-dd"},model:{value:t.formItem.occurDate,callback:function(e){t.$set(t.formItem,"occurDate",e)},expression:"formItem.occurDate"}})],1)],1),o("Col",{staticClass:"col"},[o("FormItem",{staticStyle:{width:"252px"},attrs:{label:"备注"}},[o("Input",{attrs:{type:"textarea",rows:4,placeholder:"备注"},model:{value:t.formItem.remark,callback:function(e){t.$set(t.formItem,"remark",e)},expression:"formItem.remark"}})],1)],1)],1)],1),o("FormItem",{staticStyle:{"padding-left":"24px","margin-top":"40px"}},[o("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formItem")}}},[t._v("提交")])],1)],1)],1)],1)},i=[],n={render:a,staticRenderFns:i};e.a=n},"s+bi":function(t,e,o){"use strict";var a=o("9Jg8");e.a={props:{test:Object,onchange:Function},data:function(){return{loading1:!1,companyOptions:""}},mounted:function(){this.getCusomerList("")},methods:{changeContent:function(t){this.onchange(t)},remoteCustomer:function(t){var e=this;this.loading1=!0,setTimeout(function(){e.getCusomerList(t)},200)},getCusomerList:function(t,e){var o={customerName:t||""},i=[],n=this;a.a.get("get-payment-customer-like",o).then(function(t){i=t.data.items,i.map(function(t){var e=t;return e.label=t.company,e.value=t.id+"",e}),n.loading1=!1,n.companyOptions=i}).catch(function(t){console.log("error---\x3e",t)})}}}},t3Hv:function(t,e,o){"use strict";function a(t){o("RPZT")}var i=o("s+bi"),n=o("nWBi"),r=o("VU/8"),c=a,s=r(i.a,n.a,!1,c,null,null);e.a=s.exports},tBD1:function(t,e,o){"use strict";e.a={props:{title:String,type:{default:"listTitle",type:String}},data:function(){return{classType:{listTitle:"section-title",detailTitle:"section-detail-title"}}}}},yWLh:function(t,e,o){"use strict";function a(t){o("lNj5")}var i=o("4O/J"),n=o("NpwQ"),r=o("VU/8"),c=a,s=r(i.a,n.a,!1,c,null,null);e.a=s.exports}});
//# sourceMappingURL=index.08d66c40fd6629997140.js.map