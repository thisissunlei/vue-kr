webpackJsonp([176],{V8Wt:function(t,e,a){"use strict";var r=a("g4Hp");a.n(r);e.a={props:{id:{type:[Number,String]}},data:function(){return{dateError:!1,formItem:{name:"",type:"",planEndTime:"",planStartTime:"",descr:""},ruleValidate:{name:[{required:!0,message:"请输入任务名称且最多20个字符",trigger:"change",max:20}],planStartTime:[{required:!0,type:"date",message:"请输入开始日期",trigger:"change"}],planEndTime:[{required:!0,type:"date",message:"请输入结束日期",trigger:"change"}]},taskList:[{id:"STAGETASK",name:"阶段任务"},{id:"MEETING",name:"会议节点"}],mask:!0}},created:function(){this.queryData=this.$route.query},updated:function(){this.formItem.planStartTime&&this.formItem.planEndTime&&this.formItem.planStartTime>this.formItem.planEndTime?this.dateError=!0:this.dateError=!1,this.$emit("bindData",this.formItem,this.dateError)},methods:{typeChange:function(t){this.mask="STAGETASK"==t},nameChange:function(t){var e=this,a={name:t.target.value,propertyId:this.queryData.id,id:this.id};this.$http.get("project-name-check",a).then(function(t){e.formItem.error=!1}).catch(function(t){e.$Notice.error({title:t.message}),e.formItem.error=!0})}}}},cI8C:function(t,e,a){var r=a("iGLn");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a("rjj0")("381f83ab",r,!0,{sourceMap:!1})},ctvl:function(t,e,a){"use strict";function r(t){a("cI8C")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("V8Wt"),s=a("i9lk"),l=a("VU/8"),n=r,m=l(i.a,s.a,!1,n,"data-v-6aa7851e",null);e.default=m.exports},i9lk:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add-task"},[a("Form",{ref:"formItem",staticStyle:{"margin-top":"25px"},attrs:{model:t.formItem,rules:t.ruleValidate,"label-position":"top"}},[a("Form-item",{staticClass:"bill-search-class",attrs:{label:"任务名称",prop:"name"}},[a("i-input",{staticStyle:{width:"252px"},attrs:{placeholder:"请输入任务名称"},on:{"on-change":t.nameChange},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}})],1),t.mask?a("div",[a("Form-item",{staticClass:"bill-search",attrs:{label:"计划起止日期",prop:"planStartTime"}},[a("DatePicker",{staticStyle:{width:"252px"},attrs:{type:"date",placeholder:"开始日期"},model:{value:t.formItem.planStartTime,callback:function(e){t.$set(t.formItem,"planStartTime",e)},expression:"formItem.planStartTime"}}),a("span",{staticClass:"u-date-txt"},[t._v("至")])],1),a("Form-item",{staticStyle:{display:"inline-block","vertical-align":"middle","margin-top":"22px","padding-left":"0px"},attrs:{prop:"planEndTime"}},[a("DatePicker",{staticStyle:{width:"252px"},attrs:{type:"date",placeholder:"结束日期"},model:{value:t.formItem.planEndTime,callback:function(e){t.$set(t.formItem,"planEndTime",e)},expression:"formItem.planEndTime"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.dateError,expression:"dateError"}],staticStyle:{color:"red","padding-left":"32px","padding-bottom":"15px"}},[t._v("开始日期不能大于结束日期")])],1):t._e(),t.mask?t._e():a("div",[a("Form-item",{staticClass:"bill-search",attrs:{label:"会议节点日期",prop:"planStartTime"}},[a("DatePicker",{staticStyle:{width:"252px"},attrs:{type:"date",placeholder:"开始日期"},model:{value:t.formItem.planStartTime,callback:function(e){t.$set(t.formItem,"planStartTime",e)},expression:"formItem.planStartTime"}})],1)],1),a("FormItem",{staticClass:"bill-search-class",staticStyle:{width:"575px"},attrs:{label:"任务描述"}},[a("Input",{staticStyle:{width:"100%"},attrs:{maxlength:500,type:"textarea",autosize:{minRows:5,maxRows:5},placeholder:"写入任务描述..."},model:{value:t.formItem.descr,callback:function(e){t.$set(t.formItem,"descr",e)},expression:"formItem.descr"}}),a("div",{staticStyle:{"text-align":"right"}},[t._v(t._s(t.formItem.descr?t.formItem.descr.length+"/500":"0/500"))])],1)],1)],1)},i=[],s={render:r,staticRenderFns:i};e.a=s},iGLn:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".add-task .bill-search-class[data-v-6aa7851e]{display:inline-block;width:50%;padding-left:32px}.add-task .bill-search[data-v-6aa7851e]{display:inline-block;padding-left:32px}.add-task .bill-search .u-date-txt[data-v-6aa7851e]{padding:0 13px;font-size:14px;color:#666}",""])}});
//# sourceMappingURL=add-task.8e66ebe0011f2ab386b5.js.map