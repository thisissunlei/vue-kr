webpackJsonp([108],{"2Ejv":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".watch-record .daily-form[data-v-6cfaef31]{display:inline-block}",""])},"3GMf":function(t,e,a){"use strict";var n=a("woOf"),r=a.n(n),o=a("g4Hp"),i=a.n(o),l=a("K+LH"),c=a("NJBC");e.a={components:{SelectSaler:l.a},props:{watchRecord:Array,default:[],id:{type:[String,Number]},watchTotalCount:{type:[String,Number],default:1},watchPage:{type:[String,Number],default:1}},data:function(){return{totalCount:this.watchTotalCount,pageSize:15,page:1,params:{startTime:"",updator:"",page:this.watchPage,id:this.id,pageSize:10,totalPages:this.watchTotalCount},columns:[{title:"编辑时间",key:"uTime",align:"center",width:120,render:function(t,e){return e.row.uTime?i.a.dateToStr("YYYY-MM-DD",new Date(e.row.uTime)):"-"}},{title:"编辑人",key:"updator",align:"center",width:80},{title:"编辑动作",align:"center",key:"comment"},{title:"操作描述",align:"center",key:"detail"}]}},watch:{watchTotalCount:function(){this.totalCount=this.watchTotalCount}},methods:{changePage:function(t){this.params.page=t,this.page=t;var e=r()({},this.params);e.startTime=c.a.timeToStr(e.startTime),e.endTime=c.a.timeToStr(e.endTime),this.$emit("searchClick",e)},seachClick:function(){var t=r()({},this.params);t.startTime=c.a.timeToStr(t.startTime),t.endTime=c.a.timeToStr(t.endTime),this.$emit("searchClick",t)},changeSaler:function(t){this.params.updator=t}}}},"9pIO":function(t,e,a){"use strict";function n(t,e){if(t)for(var a=t.querySelectorAll(".ivu-table-sort"),n=0;n<a.length;n++){var o=a[n];o.style.width="auto",o.style.height="40px";var i=o.parentNode,l=i.querySelectorAll("span")[0].innerHTML;r(o,t,l,e)}}function r(t,e,a,n){t.innerHTML="";var r=document.createElement("span");r.className=i("init"),t.appendChild(r),r.onclick=function(t){var r=t.target,c=r.className;l(e),r.className=i(c),n({label:a,order:o(c)})}}function o(t){return"kr-table-sort-icon-asc"===t?"desc":"asc"}function i(t){switch(t){case"kr-table-sort-icon-init":return"kr-table-sort-icon-asc";case"kr-table-sort-icon-asc":return"kr-table-sort-icon-desc";case"kr-table-sort-icon-desc":return"kr-table-sort-icon-asc";default:return"kr-table-sort-icon-init"}}function l(t){for(var e=t.querySelectorAll(".ivu-table-sort span"),a=0;a<e.length;a++){e[a].className=i("init")}}e.a=n},Asao:function(t,e,a){"use strict";function n(){switch((0,Object.prototype.toString.call)(0)){case"[object String]":return"string";case"[object Number]":return"number";case"[object Boolean]":return"boolean";case"[object Symbol]":return"symbol";case"[object Undefined]":return"undefined";case"[object Null]":return"null";case"[object Function]":return"function";case"[object Date]":return"date";case"[object Array]":return"array";case"[object RegExp]":return"regExp";case"[object Error]":return"error";case"[object HTMLDocument]":return"node";case"[object global]":return"global"}}e.a=n},Eqh0:function(t,e,a){"use strict";function n(t){if(t){return o.a.dateToStr("YYYY/MM/DD HH:mm:SS",new Date(t)).replace(/\//g,"-")}return""}var r=a("g4Hp"),o=a.n(r);e.a=n},HqmB:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"watch-record"},[a("Form",{ref:"params",attrs:{model:t.params}},[a("Form-item",{staticClass:"daily-form",attrs:{label:""}},[a("DatePicker",{staticStyle:{width:"120px"},attrs:{placeholder:"开始日期"},model:{value:t.params.startTime,callback:function(e){t.$set(t.params,"startTime",e)},expression:"params.startTime"}})],1),a("span",{staticStyle:{padding:"0px 10px",display:"inline-block","line-height":"32px"}},[t._v("至")]),a("Form-item",{staticClass:"daily-form",attrs:{label:""}},[a("DatePicker",{staticStyle:{width:"120px"},attrs:{placeholder:"结束日期"},model:{value:t.params.endTime,callback:function(e){t.$set(t.params,"endTime",e)},expression:"params.endTime"}})],1),a("Form-item",{staticClass:"daily-form",staticStyle:{padding:"0px 20px"},attrs:{label:""}},[a("SelectSaler",{attrs:{clearable:!0,onchange:t.changeSaler,value:"编辑人姓名",name:"formItem.updator"}})],1),a("Button",{staticStyle:{float:"right"},attrs:{type:"primary"},on:{click:t.seachClick}},[t._v("搜索")])],1),a("Table",{attrs:{columns:t.columns,data:t.watchRecord}}),a("div",{staticStyle:{margin:"10px",overflow:"hidden"}},[a("div",{staticStyle:{float:"right"}},[t.watchRecord&&t.watchRecord.length?a("Page",{attrs:{current:t.page,total:t.totalCount,"page-size":t.pageSize,"show-total":"","show-elevator":""},on:{"on-change":t.changePage}}):t._e()],1)])],1)},r=[],o={render:n,staticRenderFns:r};e.a=o},IoNu:function(t,e){t.exports=function(t,e,a,n){function r(){function r(){i=Number(new Date),a.apply(c,u)}function l(){o=void 0}var c=this,s=Number(new Date)-i,u=arguments;n&&!o&&r(),o&&clearTimeout(o),void 0===n&&s>t?r():!0!==e&&(o=setTimeout(n?l:r,void 0===n?t-s:t))}var o,i=0;return"boolean"!=typeof e&&(n=a,a=e,e=void 0),r}},"K+LH":function(t,e,a){"use strict";function n(t){a("MyuT")}var r=a("LfLl"),o=a("K6ky"),i=a("VU/8"),l=n,c=i(r.a,o.a,!1,l,null,null);e.a=c.exports},K6ky:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"com-select-saler"},[a("Select",{attrs:{"v-model":t.saler,filterable:"",remote:"",clearable:t.clearable,placeholder:t.value,"remote-method":t.remoteSaler,loading:t.loading1,disabled:t.disabled},on:{"on-change":t.changeContent}},t._l(t.salerOptions,function(e,n){return a("Option",{key:e.label,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1)},r=[],o={render:n,staticRenderFns:r};e.a=o},LfLl:function(t,e,a){"use strict";var n=a("9Jg8");e.a={props:{onchange:Function,value:String,disabled:Boolean,clearable:{type:Boolean,default:!1}},data:function(){return{saler:"",loading1:!1,salerOptions:[]}},methods:{changeContent:function(t){this.onchange(t)},remoteSaler:function(t){var e=this;""!==t&&(this.loading1=!0,setTimeout(function(){e.getSalerList(t)},200))},getSalerList:function(t){var e={phoneOrEmail:t},a=[],r=this;n.a.get("get-saler",e,function(t){a=t.data.slice(0,10),a.map(function(t){var e=t;return e.label=t.lastname,e.value=t.id+"",e}),r.loading1=!1,r.salerOptions=a},function(t){console.log("error",t)})}}}},Lr6v:function(t,e,a){var n=a("2Ejv");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("19867048",n,!0,{sourceMap:!1})},"Mvy/":function(t,e,a){"use strict";function n(t){a("Lr6v")}Object.defineProperty(e,"__esModule",{value:!0});var r=a("3GMf"),o=a("HqmB"),i=a("VU/8"),l=n,c=i(r.a,o.a,!1,l,"data-v-6cfaef31",null);e.default=c.exports},MyuT:function(t,e,a){var n=a("P75S");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("041bc169",n,!0,{sourceMap:!1})},NJBC:function(t,e,a){"use strict";function n(t){var e=[];t.actualStartTime&&t.actualEndTime&&(e.push(t.actualStartTime),e.push(t.actualEndTime)),t.planStartTime&&t.planEndTime&&(e.push(t.planStartTime),e.push(t.planEndTime));for(var a=e[0],n=e[0],r=1;r<e.length;r++)a<e[r]&&(a=e[r]),n>e[r]&&(n=e[r]);var o=E.a.dateToStr("YYYY-MM-DD",new Date(+n)),o=o.split("-");return{min:+n,max:+a}}function r(t,e){return new Date(t,e,0).getDate()}function o(t,e,a){var n=(document.body.clientWidth,t||window.event),r=t.target,o=r.getBoundingClientRect(),c=document.getElementById("gantt-chart-tool-tip"),s=document.getElementById("gantt-chart-tool-tip-triangle"),u=document.getElementById("layout-content-main"),d={left:n.clientX,top:(n.clientY<o.top?n.clientY:o.top)+o.height},p=i(e);(e.planEndTimeStr||e.actualEndTimeStr)&&(c.innerHTML=p.str,c.style.left=d.left-30+"px",c.style.top=d.top+10-70+u.scrollTop+"px",c.style.width=p.width+"px",s.style.left=d.left-30+5+"px",s.style.top=d.top-70+u.scrollTop+"px",c.style.display="block",s.style.display="block",l(c,d.left-30,d.left-30+p.width,a))}function i(t){var e='<div class="title">'+t.label+"</div>",a=b()({},t);return a.planEndTime&&(e+='<div class="content" > 计划日期：'+E.a.dateToStr("YYYY/MM/DD",new Date(a.planEndTime))+"</div>"),a.actualEndTime&&(e+='<div class="content" > 完成日期：'+E.a.dateToStr("YYYY/MM/DD",new Date(a.actualEndTime))+"</div>"),{str:e,width:155}}function l(t,e,a,n){var r=document.getElementById(n),o=document.getElementById("gantt-chart-tool-tip-triangle"),i=t.getBoundingClientRect(),l=r.getBoundingClientRect(),c=document.body.clientWidth,s=c-l.right,u=c-a-20;s>u&&(t.style.left=e-(s-u)+"px"),l.top+l.height<parseInt(t.style.top)+155+100?(t.style.top=parseInt(t.style.top)-i.height-60+"px",o.className="top-triangle",o.style.top=parseInt(o.style.top)-50+"px"):o.className="bottom-triangle"}function c(t,e){var a=document.getElementById(t),n=document.getElementById(e);if(a&&n){var r=a.getBoundingClientRect(),o=n.getBoundingClientRect();(r.left+r.width>o.left||o.left+o.width>r.left)&&(r.left+r.width>o.left&&(a.style.width=o.left-r.left+"px"),o.left+o.width>r.left&&(n.style.width=r.left-o.left+"px"))}}function s(){var t=document.getElementById("vue-chart-left-table-list"),e=document.getElementById("vue-chart-right-draw-content"),a=document.documentElement.clientHeight,n=document.getElementById("layout-content-main");n&&(n.style.height=document.documentElement.clientHeight-130+"px"),t&&(t.style.maxHeight=a-362+"px"),e&&(e.style.maxHeight=a-362+"px")}function u(t,e){var a="";t=t.replace("-","/");var n=new Date(t+" 00:00:00").getTime(),r=new Date,o=r.getTime(),i=e;return a=n<i?n:i,a=a<o?a:o,E.a.dateToStr("YYYY-MM-DD",new Date(a))}function d(t,e){t=t.replace("-","/"),e=e.replace("-","/");var a="",n=new Date(t+" 00:00:00").getTime(),r=new Date(e+" 00:00:00").getTime();return a=n>r?n:r,E.a.dateToStr("YYYY-MM-DD",new Date(a))}function p(t){}function m(t){switch(t){case"NORMAL":case"ADVANCE":case"DELAY":return"#fff";case"UNDERWAY":return"#E03B3B";case"OVERDUE":return"#E58F00";case"PLANNED":return"#fff";default:return"#666"}}function f(t,e){var a="row-current-more current-more-task ";return t===e.row.tasks.length-1&&(a="row-current-more current-more-task noBorder"),a}function h(t){return"UNDERWAY"===t||"OVERDUE"===t||"UNKNOWN"===t?"#BE8525":"NORMAL"===t||"ADVANCE"===t?"#5A8C23":"#666666"}function p(t){switch(t){case"NORMAL":case"ADVANCE":return"#C2E998";case"DELAY":return"#F69C9C";case"UNDERWAY":case"OVERDUE":return"#FFE9AF";case"PLANNED":default:return"transparent"}}function g(t){return"OVERDUE"===t||"UNKNOWN"===t?"1px dashed #FF6D6D":"0px solid #FF6D6D"}function v(t){return"UNDERWAY"===t||"OVERDUE"===t||"UNKNOWN"===t?"#BE8525":"NORMAL"===t||"ADVANCE"===t?"#5A8C23":"#666666"}function w(t){var e=Object.prototype.toString.call(t);return t?"[object Date]"===e?E.a.dateToStr("YYYY-MM-DD HH:mm:SS",new Date(t)):"[object String]"===e?t+" 00:00:00":void 0:""}var y=a("woOf"),b=a.n(y),D=a("g4Hp"),E=a.n(D);a("bsze");e.a={getAllMaxAndMin:n,getMonthDayNum:r,poptipOver:o,fontCover:c,windowResize:s,compareEndTime:d,compareTime:u,getDivColor:m,getDivClass:f,getActualColor:h,getActualBgColor:p,getActualBorder:g,getLabelColor:v,timeToStr:w}},P75S:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".com-select-saler ::-webkit-input-placeholder{color:#666}.com-select-saler ::-moz-placeholder{color:#666}.com-select-saler :-ms-input-placeholder{color:#666}.com-select-saler input:-moz-placeholder{color:#666}",""])},"Ta+G":function(t,e,a){"use strict";function n(t){var e=t.type;return"DOMMouseScroll"!=e&&"mousewheel"!=e||(t.delta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),t.srcElement&&!t.target&&(t.target=t.srcElement),t.preventDefault||void 0===t.returnValue||(t.preventDefault=function(){t.returnValue=!1}),t}var r=function(t,e,a,r){console.log("-------"),window.addEventListener?("mousewheel"===e&&void 0!==document.mozFullScreen&&(e="DOMMouseScroll"),t.addEventListener(e,function(t){a(n(t))},r||!1)):window.attachEvent&&t.attachEvent("on"+e,function(t){t=t||window.event,a(n(t))})};e.a=r},bsze:function(t,e,a){"use strict";function n(t){var e=["角","分"],a=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],n=[["元","万","亿"],["","拾","佰","仟"]],r=t<0?"负":"";t=Math.abs(t);var o="",i=(t+"").split(".").length,l="00";i>1&&(l=(t+"").split(".")[1]);for(var c=0;c<e.length;c++)a[l[c]]&&(o+=(a[l[c]]+e[c]).replace(/零./,""));o=o||"整",t=Math.floor(t);for(var c=0;c<n[0].length&&t>0;c++){for(var s="",u=0;u<n[1].length&&t>0;u++)s=a[t%10]+n[1][u]+s,t=Math.floor(t/10);o=s.replace(/(零.)*零$/,"").replace(/^$/,"零")+n[0][c]+o}return r+o.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")}function r(t){for(var e in t)t[e]=""}function o(t,e){var a=[];for(var n in t)t.hasOwnProperty(n)&&a.push(n+"="+t[n]);var e=e+"?"+a.join("&");window.location.href=e}function i(){var t=location.search,e=new Object;if(-1!=t.indexOf("?"))for(var a=t.substr(1),n=a.split("&"),r=0;r<n.length;r++)e[n[r].split("=")[0]]=unescape(n[r].split("=")[1]);return e}function l(t){var e=window.location.href,a=e.split("?")[0],n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r+"="+t[r]);a=a+"?"+n.join("&"),location.href=a}function c(t){for(var e,a=0,n={},r=[];e=t[a++];){var o=e.id;n[o]||(n[o]=!0,r.push(e))}return r}function s(t,e,a,n){for(var r=0;r<e.length;r++)for(var o=0;o<t.length;o++){var i=a?t[o][a]:t[o],l=n?e[r][n]:e[r];i==l&&t.splice(o,1)}return t}function u(t,e){var a=document.createElement("a");a.href=t,a.download=e,console.log("a--",a,t,e),a.click()}function d(t,e){var a=document.createElement("a");a.href=t,a.target="_blank",a.download=e,a.click()}function p(t,e){return e=parseInt(e,10),new Date(t,e,0).getDate()}function m(t,e){var a,n,r;return a=t.split("-"),n=new Date(a[1]+"/"+a[2]+"/"+a[0]),a=e.split("-"),r=new Date(a[1]+"/"+a[2]+"/"+a[0]),parseInt(Math.abs(n-r)/1e3/60/60/24)}function f(t,e,a){return void 0===a?E()(t,e,!1):E()(t,a,!1!==e)}function h(t,e){var a=new Date(t),n=new Date(a.getFullYear(),a.getMonth(),a.getDate()+e);a.getFullYear(),a.getMonth(),a.getDate();return n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()}function g(){var t=document.createElement("div");t.style.width="100%",t.style.height="200px";var e=document.createElement("div"),a=e.style;a.position="absolute",a.top=0,a.left=0,a.pointerEvents="none",a.visibility="hidden",a.width="200px",a.height="150px",a.overflow="hidden",e.appendChild(t),document.body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var r=t.offsetWidth;return n===r&&(r=e.clientWidth),document.body.removeChild(e),n-r}function v(t,e){var a,n,r;return a=t.split("-"),n=new Date(a[1]+"/"+a[2]+"/"+a[0]),a=e.split("-"),r=new Date(a[1]+"/"+a[2]+"/"+a[0]),parseInt(Math.abs(n-r)/1e3/60/60/24)}var w=a("syeK"),y=a("Ta+G"),b=a("Asao"),D=a("IoNu"),E=a.n(D),T=a("Eqh0"),S=a("9pIO");e.a={smalltoBIG:n,clearForm:r,commonExport:o,getRequest:i,addParams:l,arrayNoRepeat:c,arrayCompare:s,thousand:w.a,downFile:u,addEvent:y.a,dataType:b.a,getDaysInOneMonth:p,dateDiff:m,debounce:f,getScrollBarSize:g,dateCompatible:T.a,tableSort:S.a,dateRange:h,downImg:d,timeRange:v}},syeK:function(t,e,a){"use strict";function n(t){if(null===t||void 0===t)return 0;if(isNaN(t))return"NaN";var e=t.toString();if(/^-?\d+\.?\d+$/.test(e))if(/^-?\d+$/.test(e))e=e.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");else{var a=e.split("."),n=a[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");e=n+"."+a[1]}return e}e.a=n}});
//# sourceMappingURL=watch-record.3a313f27a8acb41f44b2.js.map