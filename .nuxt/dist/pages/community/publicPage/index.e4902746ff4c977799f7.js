webpackJsonp([132],{"/FMK":function(t,e,i){t.exports=i.p+"img/q1.cfe4aa2.svg"},"6GG5":function(t,e,i){"use strict";var r=i("woOf"),a=i.n(r),o=i("g4Hp"),n=(i.n(o),i("cTzz")),s=i("K+LH");e.a={props:{identify:{type:String,default:""}},components:{SelectSaler:s.a},data:function(){var t=this,e=function(e,i,r){var a=/^\+?[1-9]\d*$/;i&&!a.test(i)?r("请输入正整数"):i&&i>999?r("最大999个工位"):t.formItem.stationsMin&&t.formItem.stationsMax&&Number(t.formItem.stationsMin)>Number(t.formItem.stationsMax)?r("后者需要大于前者"):r()},i=function(e,i,r){var a=/^\+?[1-9]\d*$/;i&&!a.test(i)?r("请输入正整数"):i&&i>9999999?r("单价最高9999999"):t.formItem.priceMin&&t.formItem.priceMax&&Number(t.formItem.priceMin)>Number(t.formItem.priceMax)?r("后者需要大于前者"):r()},r=function(e,i,r){var a=/^\+?[1-9]\d*$/;i&&!a.test(i)?r("请输入正整数"):i&&i>9999999?r("单价最高9999999"):t.formItem.orderPriceMin&&t.formItem.orderPriceMax&&Number(t.formItem.orderPriceMin)>Number(t.formItem.orderPriceMax)?r("后者需要大于前者"):r()},a=function(e,i,r){var a=/^(([1-9]{1})|([0-9]{1}\.\d{1}))$/;i&&!a.test(i)?r("请输入0-10之间的数字,最多1位小数"):t.formItem.discountMin&&t.formItem.discountMax&&Number(t.formItem.discountMin)>Number(t.formItem.discountMax)?r("后者需要大于前者"):r()};return{loading:!1,formItem:{investmentStatus:"",status:[],name:"",communityId:"",cityId:"",floor:" ",stationsMax:"",stationsMin:"",goodsType:" ",priceMin:"",priceMax:"",discountMin:"",discountMax:"",sellerId:"",orderPriceMin:"",orderPriceMax:"",rentTime:"",rentTimeType:"GT",source:[],sourceId:"",subSourceId:""},sourceData:[],communityList:[],cityList:[],floorList:[],sellerList:[],productList:[{value:" ",label:"全部"},{value:"OPEN",label:"固定办公桌"},{value:"SPACE",label:"独立办公室"},{value:"MOVE",label:"移动办公桌"}],inventoryList:[{value:"AVAILABLE",label:"未招商"},{value:"INVITING",label:"招商中"},{value:"RENTING",label:"已招商"},{value:"DISABLED",label:"不可招商"}],timeList:[{value:"LT",label:"小于"},{value:"EQ",label:"等于"},{value:"GT",label:"大于"}],formItemOld:{},ruleInvestment:{name:[{validator:function(t,e,i){var r=n.a.fucCheckLength(e);e&&r>20?i("名称最多20个字节"):i()},trigger:"change"}],stationsMin:[{validator:e,trigger:"change"}],stationsMax:[{validator:e,trigger:"change"}],priceMin:[{validator:i,trigger:"change"}],priceMax:[{validator:i,trigger:"change"}],orderPriceMin:[{validator:r,trigger:"change"}],orderPriceMax:[{validator:r,trigger:"change"}],discountMin:[{validator:a,trigger:"change"}],discountMax:[{validator:a,trigger:"change"}],rentTime:[{validator:function(t,e,i){var r=/^\+?[1-9]\d*$/;e&&!r.test(e)?i("请输入正整数"):i()},trigger:"change"}]}}},mounted:function(){var t=this;this.getCityList(),this.getSourceData();var e=this;setTimeout(function(){e.$emit("initData",t.formItem),e.formItemOld=a()({},t.formItem)},500)},methods:{remoteSaler:function(t){var e=this;""!==t&&(this.loading=!0,setTimeout(function(){e.getSalerData(t)},200))},getSalerData:function(t){var e=this,i=[];this.$http.get("get-saler",{phoneOrEmail:t}).then(function(t){i=t.data.slice(0,10),e.loading=!1,e.sellerList=i}).catch(function(t){e.$Notice.error({title:t.message})})},getSourceData:function(){var t=this;this.$http.get("get-customer-source").then(function(e){t.sourceData=n.a.sourceStyleSwitch(e.data)}).catch(function(e){t.$Notice.error({title:e.message})})},getCommunityList:function(t){var e=this;this.$http.get("getDailyCommunity",{cityId:t}).then(function(t){e.communityList=t.data,e.formItem.communityId=t.data.length?t.data[0].id:""}).catch(function(t){e.$Notice.error({title:t.message})})},getCityList:function(){var t=this;this.$http.get("getDailyCity").then(function(e){t.cityList=e.data,t.formItem.cityId=e.data.length?e.data[0].cityId:""}).catch(function(e){t.$Notice.error({title:e.message})})},getFloorList:function(t){var e=this;this.$http.get("getDailyFloor",{communityId:t}).then(function(t){e.floorList=t.data,e.floorList.length>1&&e.floorList.unshift({floor:" ",floorName:"全部楼层"}),e.formItem.floor=e.floorList.length?e.floorList[0].floor:" "}).catch(function(t){e.$Notice.error({title:t.message})})},searchClick:function(){var t=this;this.$refs.formItemInvestment.validate(function(e){if(e){var i="";t.formItem.status.map(function(t,e){i=i?i+","+t:t}),t.formItem.investmentStatus=i;var r=t.formItem.source.length;r&&(t.formItem.sourceId=t.formItem.source[0],t.formItem.subSourceId=r>1?t.formItem.source[1]:""),t.$emit("searchClick",t.formItem)}})},clearClick:function(){this.formItem=a()({},this.formItemOld),this.formItem.status=[],this.$emit("clearClick",this.formItem)},onKeyEnter:function(){this.searchClick()},cityChange:function(t){this.getCommunityList(t)},communityChange:function(t){this.getFloorList(t)}}}},G9I3:function(t,e,i){"use strict";function r(t){i("t16S")}Object.defineProperty(e,"__esModule",{value:!0});var a=i("6GG5"),o=i("wJH0"),n=i("VU/8"),s=r,c=n(a.a,o.a,!1,s,null,null);e.default=c.exports},"K+LH":function(t,e,i){"use strict";function r(t){i("MyuT")}var a=i("LfLl"),o=i("K6ky"),n=i("VU/8"),s=r,c=n(a.a,o.a,!1,s,null,null);e.a=c.exports},K6ky:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"com-select-saler"},[i("Select",{attrs:{"v-model":t.saler,filterable:"",remote:"",clearable:t.clearable,placeholder:t.value,"remote-method":t.remoteSaler,loading:t.loading1,disabled:t.disabled},on:{"on-change":t.changeContent}},t._l(t.salerOptions,function(e,r){return i("Option",{key:e.label,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1)},a=[],o={render:r,staticRenderFns:a};e.a=o},LfLl:function(t,e,i){"use strict";var r=i("9Jg8");e.a={props:{onchange:Function,value:String,disabled:Boolean,clearable:{type:Boolean,default:!1}},data:function(){return{saler:"",loading1:!1,salerOptions:[]}},methods:{changeContent:function(t){this.onchange(t)},remoteSaler:function(t){var e=this;""!==t&&(this.loading1=!0,setTimeout(function(){e.getSalerList(t)},200))},getSalerList:function(t){var e={phoneOrEmail:t},i=[],a=this;r.a.get("get-saler",e,function(t){i=t.data.slice(0,10),i.map(function(t){var e=t;return e.label=t.lastname,e.value=t.id+"",e}),a.loading1=!1,a.salerOptions=i},function(t){console.log("error",t)})}}}},MyuT:function(t,e,i){var r=i("P75S");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);i("rjj0")("041bc169",r,!0,{sourceMap:!1})},P75S:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,".com-select-saler ::-webkit-input-placeholder{color:#666}.com-select-saler ::-moz-placeholder{color:#666}.com-select-saler :-ms-input-placeholder{color:#666}.com-select-saler input:-moz-placeholder{color:#666}",""])},"Ro+Q":function(t,e,i){var r=i("kxFB");e=t.exports=i("FZ+f")(!1),e.push([t.i,".community-search-form .community-header{padding:30px 10px 10px 20px}.community-search-form .community-header .ivu-form .ivu-form-item-label{color:#333;font-weight:500}.community-search-form .community-header .daily-form{display:inline-block;margin-right:20px}.community-search-form .community-header .daily-form .ivu-form-item-content{display:inline-block}.community-search-form .community-header .community-form{vertical-align:middle}.community-search-form .community-header .community-form .ivu-select-dropdown{min-width:100px;width:auto!important;left:auto!important}.community-search-form .community-header .priceForm,.community-search-form .community-header .priceForm .ivu-form-item-content{display:inline-block}.community-search-form .community-header .attract-font{font-weight:700;display:inline-block;margin-right:12px}.community-search-form .community-header .attract-line{display:inline-block;margin:0 4px 0 5px;padding-top:6px}.community-search-form .community-header .tip-pic{display:inline-block;width:16px;height:16px;background:url("+r(i("/FMK"))+") no-repeat 50%;background-size:100%;vertical-align:middle;margin-right:5px;margin-top:-2px}.community-search-form .community-header .ivu-tooltip-popper{word-break:break-all;word-wrap:break-word;max-width:150px}.community-search-form .community-header .ivu-tooltip-inner{white-space:normal}",""])},cTzz:function(t,e,i){"use strict";function r(t,e){var i="row-current-more current-more-task ";return t===e.length-1&&(i="row-current-more current-more-task noBorder"),i}function a(t,e,i,a){return e?e?e.map(function(o,n){var s="discount"==i?"折":"rentTime"==i?"天":"",l=o[i]?o[i]+s:"-",m=o[i]&&a?c.a.dateToStr("YYYY-MM-DD",new Date(o[i])):l;return t("div",[t("Tooltip",{props:{placement:"top",content:m}},[t("div",{attrs:{class:r(n,e)}},m)])])}):void 0:t("div",{attrs:{class:"row-current-more current-more-task table-null"}},"-")}function o(t){var e,i;i=0;var r=t.length;for(e=0;e<r;e++)t.charCodeAt(e)>=0&&t.charCodeAt(e)<=255?i+=1:i+=2;return i}function n(t){var e=[].concat(t);return e.map(function(t,e){t.value=t.id,t.label=t.name,t.subSources&&(t.children=t.subSources,t.children.unshift({name:"全部",id:""}),n(t.children))}),e}var s=i("g4Hp"),c=i.n(s);e.a={mergeCell:a,fucCheckLength:o,sourceStyleSwitch:n}},t16S:function(t,e,i){var r=i("Ro+Q");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);i("rjj0")("22ddf7de",r,!0,{sourceMap:!1})},wJH0:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"community-search-form"},[i("div",{staticClass:"community-header"},[i("Form",{ref:"formItemInvestment",attrs:{model:t.formItem,rules:t.ruleInvestment,"label-position":"left"}},[i("div",{staticStyle:{"white-space":"nowrap"}},[i("Form-item",{staticClass:"daily-form",attrs:{label:"商品名称",prop:"name"}},[i("i-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入商品名称"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onKeyEnter(e)}},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}})],1),i("Form-item",{staticClass:"daily-form",attrs:{label:"招商状态"}},[i("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"全部",multiple:""},model:{value:t.formItem.status,callback:function(e){t.$set(t.formItem,"status",e)},expression:"formItem.status"}},t._l(t.inventoryList,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1),i("Form-item",{staticClass:"priceForm community-form"},[i("span",{staticClass:"attract-font"},[t._v("社"),i("span",{staticStyle:{display:"inline-block",width:"26px"}}),t._v("区")]),i("Select",{staticStyle:{width:"90px","margin-right":"20px"},attrs:{placeholder:"请输入城市"},on:{"on-change":t.cityChange},model:{value:t.formItem.cityId,callback:function(e){t.$set(t.formItem,"cityId",e)},expression:"formItem.cityId"}},t._l(t.cityList,function(e){return i("Option",{key:e.cityId,attrs:{value:e.cityId}},[t._v("\n                                "+t._s(e.cityName)+"\n                            ")])})),i("Select",{staticStyle:{width:"90px"},attrs:{placeholder:"请输入社区"},on:{"on-change":t.communityChange},model:{value:t.formItem.communityId,callback:function(e){t.$set(t.formItem,"communityId",e)},expression:"formItem.communityId"}},t._l(t.communityList,function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v("\n                                    "+t._s(e.name)+"\n                                ")])})),t.floorList&&0!=t.floorList.length?i("Select",{staticStyle:{width:"90px","margin-left":"20px"},attrs:{placeholder:"请输入楼层"},model:{value:t.formItem.floor,callback:function(e){t.$set(t.formItem,"floor",e)},expression:"formItem.floor"}},t._l(t.floorList,function(e){return i("Option",{key:e.floor,attrs:{value:e.floor}},[t._v("\n                                    "+t._s(e.floorName)+"\n                                ")])})):t._e()],1)],1),i("div",{staticStyle:{"white-space":"nowrap"}},[i("div",{staticClass:"daily-form"},[i("span",{staticClass:"attract-font",staticStyle:{"padding-top":"7px"}},[t._v("商品定价")]),i("Form-item",{staticClass:"priceForm",attrs:{prop:"priceMin"}},[i("i-input",{staticStyle:{width:"90px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onKeyEnter(e)}},model:{value:t.formItem.priceMin,callback:function(e){t.$set(t.formItem,"priceMin",e)},expression:"formItem.priceMin"}})],1),i("span",{staticClass:"attract-line",staticStyle:{margin:"0 3px 0 4px"}},[t._v("至")]),i("Form-item",{staticClass:"priceForm",attrs:{prop:"priceMax"}},[i("i-input",{staticStyle:{width:"90px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onKeyEnter(e)}},model:{value:t.formItem.priceMax,callback:function(e){t.$set(t.formItem,"priceMax",e)},expression:"formItem.priceMax"}})],1)],1),i("div",{staticClass:"daily-form"},[i("span",{staticClass:"attract-font",staticStyle:{"padding-top":"7px"}},[t._v("工位数量")]),i("Form-item",{staticClass:"priceForm",attrs:{prop:"stationsMin"}},[i("i-input",{staticStyle:{width:"90px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onKeyEnter(e)}},model:{value:t.formItem.stationsMin,callback:function(e){t.$set(t.formItem,"stationsMin",e)},expression:"formItem.stationsMin"}})],1),i("span",{staticClass:"attract-line"},[t._v("至")]),i("Form-item",{staticClass:"priceForm",attrs:{prop:"stationsMax"}},[i("i-input",{staticStyle:{width:"90px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onKeyEnter(e)}},model:{value:t.formItem.stationsMax,callback:function(e){t.$set(t.formItem,"stationsMax",e)},expression:"formItem.stationsMax"}})],1)],1),i("Form-item",{staticClass:"daily-form",attrs:{label:"商品类型"}},[i("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入商品类型",clearable:""},model:{value:t.formItem.goodsType,callback:function(e){t.$set(t.formItem,"goodsType",e)},expression:"formItem.goodsType"}},t._l(t.productList,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1),i("Button",{staticStyle:{"vertical-align":"top",border:"solid 1px #499df1",color:"#499df1","box-shadow":"0 1px 6px rgba(0, 0, 0, 0.2), 0 1px 4px rgba(0, 0, 0, 0.2)"},attrs:{type:"ghost"},on:{click:t.clearClick}},[t._v("清除")])],1),i("div",{staticStyle:{"white-space":"nowrap"}},[i("div",{staticClass:"daily-form"},[i("span",{staticClass:"attract-font",staticStyle:{"padding-top":"7px","margin-right":"3px"}},[t._v("签约价")]),i("Tooltip",{attrs:{content:"表中的签约价均只显示整数，实际签约金额以合同为准",placement:"top"}},[i("span",{staticClass:"tip-pic"})]),i("Form-item",{staticClass:"priceForm",attrs:{prop:"orderPriceMin"}},[i("i-input",{staticStyle:{width:"90px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onKeyEnter(e)}},model:{value:t.formItem.orderPriceMin,callback:function(e){t.$set(t.formItem,"orderPriceMin",e)},expression:"formItem.orderPriceMin"}})],1),i("span",{staticClass:"attract-line"},[t._v("至")]),i("Form-item",{staticClass:"priceForm",attrs:{prop:"orderPriceMax"}},[i("i-input",{staticStyle:{width:"90px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onKeyEnter(e)}},model:{value:t.formItem.orderPriceMax,callback:function(e){t.$set(t.formItem,"orderPriceMax",e)},expression:"formItem.orderPriceMax"}})],1)],1),i("div",{staticClass:"daily-form"},[i("span",{staticClass:"attract-font",staticStyle:{"padding-top":"7px","margin-right":"11px"}},[t._v("折"),i("span",{staticStyle:{display:"inline-block",width:"25px"}}),t._v("扣")]),i("Form-item",{staticClass:"priceForm",attrs:{prop:"discountMin"}},[i("i-input",{staticStyle:{width:"90px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onKeyEnter(e)}},model:{value:t.formItem.discountMin,callback:function(e){t.$set(t.formItem,"discountMin",e)},expression:"formItem.discountMin"}})],1),i("span",{staticClass:"attract-line"},[t._v("至")]),i("Form-item",{staticClass:"priceForm",attrs:{prop:"discountMax"}},[i("i-input",{staticStyle:{width:"90px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onKeyEnter(e)}},model:{value:t.formItem.discountMax,callback:function(e){t.$set(t.formItem,"discountMax",e)},expression:"formItem.discountMax"}})],1)],1),i("Form-item",{staticClass:"daily-form",attrs:{label:"渠道来源"}},[i("Cascader",{staticStyle:{width:"200px"},attrs:{data:t.sourceData},model:{value:t.formItem.source,callback:function(e){t.$set(t.formItem,"source",e)},expression:"formItem.source"}})],1),i("Button",{attrs:{type:"primary"},on:{click:t.searchClick}},[t._v("搜索")])],1),i("div",{staticStyle:{"white-space":"nowrap"}},[i("span",{staticClass:"attract-font",staticStyle:{"padding-top":"7px","margin-right":"24px"}},[t._v("销售员")]),i("Form-item",{staticClass:"daily-form"},[i("Select",{staticStyle:{width:"200px"},attrs:{"remote-method":t.remoteSaler,clearable:"",filterable:"",remote:"",loading:t.loading},model:{value:t.formItem.sellerId,callback:function(e){t.$set(t.formItem,"sellerId",e)},expression:"formItem.sellerId"}},t._l(t.sellerList,function(e){return i("Option",{key:e.id,attrs:{value:""+e.id}},[t._v(t._s(e.lastname))])}))],1),i("div",{staticClass:"daily-form"},[i("span",{staticClass:"attract-font",staticStyle:{"padding-top":"7px","margin-right":"11px"}},[t._v("租"),i("span",{staticStyle:{display:"inline-block",width:"27px"}}),t._v("期")]),i("Form-item",{staticClass:"daily-form"},[i("Select",{staticStyle:{width:"90px"},attrs:{clearable:""},model:{value:t.formItem.rentTimeType,callback:function(e){t.$set(t.formItem,"rentTimeType",e)},expression:"formItem.rentTimeType"}},t._l(t.timeList,function(e){return i("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1),i("Form-item",{staticClass:"priceForm",staticStyle:{"margin-right":"5px"},attrs:{prop:"rentTime"}},[i("i-input",{staticStyle:{width:"90px"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.onKeyEnter(e)}},model:{value:t.formItem.rentTime,callback:function(e){t.$set(t.formItem,"rentTime",e)},expression:"formItem.rentTime"}})],1),i("span",[t._v("天")])],1)],1)])],1)])},a=[],o={render:r,staticRenderFns:a};e.a=o}});
//# sourceMappingURL=index.e4902746ff4c977799f7.js.map