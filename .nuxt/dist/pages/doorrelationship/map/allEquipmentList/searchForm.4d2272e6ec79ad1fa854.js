webpackJsonp([139],{"+305":function(e,t,r){"use strict";var i=r("woOf"),a=r.n(i),o=r("GFTv");t.a={name:"equipmentSearch",data:function(){return{communityList:[],formItem:{},floorOptions:[],searchFilter:[{label:"屏幕编号",value:"doorCode"},{label:"屏幕标题",value:"title"},{label:"硬件ID",value:"deviceId"}],searchFormData:{},otherSearchData:{}}},mounted:function(){var e={communityId:this.communityId};this.getCommunity(this.getfloorOptions,e)},props:["communityId","doorTypeOptions"],components:{SearchFormData:o.a},methods:{getfloorOptions:function(e){var t=this;this.$http.get("getFloorOptions",e).then(function(e){for(var r=e.data.floors,i=[],a=0;a<r.length;a++)i[a]={label:r[a],value:r[a]};t.floorOptions=i}).catch(function(e){t.$Notice.error({title:e.message})})},searchEquipment:function(){var e=this,t=a()({},e.otherSearchData,e.formItem,{communityId:e.communityId});this.$emit("searchEquipment",e.formItem,t)},getCommunity:function(e,t){var r=this;this.$http.get("join-bill-community","").then(function(i){r.communityList=i.data.items,e&&e(t)}).catch(function(e){r.$Notice.error({title:e.message})})},onChangeCommunity:function(e){var t={communityId:e};this.getfloorOptions(t)},addEquipmentToGroup:function(){this.$emit("addEquipmentToGroup")},onSubmitSearchForm:function(e){this.otherSearchData=e}},updated:function(){this.$emit("formData",this.formItem)}}},"0wzL":function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,".all-equipment-list-searchform,.search-btn{display:inline-block}.search-btn{margin-top:33px;margin:33px 10px 0 0;vertical-align:top}",""])},"6Ulh":function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:[e.otherName,"ui-search-form"]},[r("div",{class:[e.className,"search-status"]},[r("div",{directives:[{name:"show",rawName:"v-show",value:this.searchFilter,expression:"this.searchFilter"}],staticClass:"search-filter"},[r("span",{staticClass:"filter-container",on:{mouseenter:e.selectShow,mouseleave:e.selectHide}},[r("span",{staticClass:"search-name"},[e._v(e._s(e.searchLabel))]),r("em",{staticClass:"icon-return1"})]),r("ul",{class:e.ulClass,on:{mouseenter:e.selectShow,mouseleave:e.selectHide}},e._l(e.searchFilter,function(t,i){return r("li",{key:i,on:{click:function(r){e.getValue(t,i)}}},[e._v("\n                    "+e._s(t.label)+"\n                ")])}))]),r("div",{staticClass:"search-content"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchValue,expression:"searchValue"}],ref:"searchInput",staticClass:"search-val",attrs:{type:"text",autoComplete:"off",placeholder:[e.placeholder?e.placeholder:"请输入搜索关键字"],name:[e.inputName?e.inputName:"search"]},domProps:{value:e.searchValue},on:{input:[function(t){t.target.composing||(e.searchValue=t.target.value)},e.passDataToFather]}})])])])},a=[],o={render:i,staticRenderFns:a};t.a=o},AdsO:function(e,t,r){"use strict";var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Form",{staticClass:"all-equipment-list-searchform",attrs:{model:e.formItem,"label-position":"left",inline:""}},[r("FormItem",{attrs:{label:"社区："}},[r("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择社区",filterable:"",disabled:""},on:{"on-change":e.onChangeCommunity},model:{value:e.communityId,callback:function(t){e.communityId=t},expression:"communityId"}},e._l(e.communityList,function(t){return r("Option",{key:t.id,attrs:{value:t.id}},[e._v(" "+e._s(t.name))])}))],1),r("FormItem",{attrs:{label:"楼层："}},[r("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择楼层",clearable:""},model:{value:e.formItem.floor,callback:function(t){e.$set(e.formItem,"floor",t)},expression:"formItem.floor"}},e._l(e.floorOptions,function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v("\n                        "+e._s(t.label)+"\n                    ")])}))],1),r("FormItem",{attrs:{label:"门类型："}},[r("Select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择门类型",clearable:""},model:{value:e.formItem.doorType,callback:function(t){e.$set(e.formItem,"doorType",t)},expression:"formItem.doorType"}},e._l(e.doorTypeOptions,function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v("\n                        "+e._s(t.label)+"\n                    ")])}))],1),r("FormItem",{attrs:{label:"其他："}},[r("SearchFormData",{attrs:{searchFilter:e.searchFilter,onSubmit:e.onSubmitSearchForm},on:{serachFormDataChanged:e.onSubmitSearchForm}})],1)],1),r("Button",{staticClass:"search-btn",attrs:{type:"primary",icon:"ios-search"},on:{click:e.searchEquipment}},[e._v("搜索")]),r("Button",{staticClass:"search-btn",attrs:{type:"primary",icon:"ios-plus-outline"},on:{click:e.addEquipmentToGroup}},[e._v("添加")])],1)},a=[],o={render:i,staticRenderFns:a};t.a=o},GFTv:function(e,t,r){"use strict";function i(e){r("NpIF")}var a=r("ZPYd"),o=r("6Ulh"),s=r("VU/8"),l=i,n=s(a.a,o.a,!1,l,null,null);t.a=n.exports},NpIF:function(e,t,r){var i=r("nq2d");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);r("rjj0")("fcf0e686",i,!0,{sourceMap:!1})},ZPYd:function(e,t,r){"use strict";t.a={props:{placeholder:String,inputName:String,searchFilter:Array,onSubmit:Function},data:function(){return{className:"",otherName:"",flag:!1,ulClass:"",searchLabel:"",filterValue:"",searchValue:""}},created:function(){this.searchFilter&&(this.searchLabel=this.searchFilter[0].label,this.filterValue=this.searchFilter[0].value)},mounted:function(){this.onSearch()},methods:{passDataToFather:function(){var e={};e[this.filterValue]=this.searchValue,e.content=this.searchValue,console.log("value",e),this.$emit("serachFormDataChanged",e)},onSearch:function(){if(this.flag){var e={};this.filterValue?e[this.filterValue]=this.searchValue:e.content=this.searchValue,this.onSubmit&&this.onSubmit(e)}else this.searchFilter?(this.otherName="renderFilter",this.className="filter-show-form"):(this.otherName="",this.className="show-form"),this.flag=!0},getValue:function(e){this.searchLabel=e.label,this.filterValue=e.value,this.ulClass="",this.passDataToFather()},selectShow:function(){this.ulClass="show-li"},selectHide:function(){this.ulClass=""}}}},eYZ6:function(e,t,r){"use strict";function i(e){r("vlW7")}Object.defineProperty(t,"__esModule",{value:!0});var a=r("+305"),o=r("AdsO"),s=r("VU/8"),l=i,n=s(a.a,o.a,!1,l,null,null);t.default=n.exports},nq2d:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,'.ui-search-form{height:30px;border-left:1px solid #eee;border-right:1px solid #eee;padding:0 10px;padding-left:0;float:right;text-align:left;font-size:14px}.ui-search-form div{display:inline-block;vertical-align:top}.ui-search-form .search-val{border:none;padding-left:10px;font-size:14px;width:0}.ui-search-form .search-val:focus{outline:none}.ui-search-form .icon-searching{z-index:10;font-size:20px;line-height:30px;color:#d4dce2;float:right;margin-left:10px;cursor:pointer}.ui-search-form .click,.ui-search-form .icon-searching:hover{color:#499df1}.ui-search-form .search-name{margin-left:10px;font-size:14px;display:inline-block;text-align:left}.ui-search-form .search-name:hover{color:#2980b9}.ui-search-form .filter-container,.ui-search-form .search-content,.ui-search-form .search-filter{width:0}.ui-search-form .filter-container{border-right:1px solid #eee;display:inline-block;color:#666;line-height:30px}.ui-search-form .filter-container em{vertical-align:middle;color:#666;margin-left:5px}.ui-search-form .search-status{z-index:1;height:30px;line-height:30px;visibility:hidden;width:0}.ui-search-form .search-status ul{left:0;padding:0;margin:0;height:0;z-index:99;top:0;visibility:hidden;position:relative;-webkit-box-shadow:0 1px 6px #7d7d7d;box-shadow:0 1px 6px #7d7d7d;padding:8px 0;border-radius:4px;background-color:#fff}.ui-search-form .search-status ul:before{border:6px solid transparent;border-bottom-color:hsla(0,0%,49%,.3);top:-12px}.ui-search-form .search-status ul:after,.ui-search-form .search-status ul:before{content:"";position:absolute;height:0;width:0;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.ui-search-form .search-status ul:after{border:6px solid transparent;border-bottom-color:#fff;top:-11px}.ui-search-form .search-status ul li{padding-left:10px;background-color:#fff;color:#666;height:0;cursor:pointer}.ui-search-form .search-status ul li:hover{background-color:#f5f5f5}.ui-search-form .search-status .show-li{visibility:visible;height:auto}.ui-search-form .search-status .show-li li{height:auto}.ui-search-form .show-form{-webkit-animation:show .5s forwards;animation:show .5s forwards;-webkit-animation-iteration-count:1;animation-iteration-count:1;visibility:visible;width:150px}.ui-search-form .show-form .search-content,.ui-search-form .show-form .search-filter,.ui-search-form .show-form .search-val{width:auto}.ui-search-form .show-form .search-val{width:100%}.ui-search-form .show-form .search-content{width:150px}.ui-search-form .show-form .filter-container,.ui-search-form .show-form ul{width:100px}@-webkit-keyframes show{0%{width:0;opacity:0}50%{width:150;opacity:0}to{width:auto;opacity:1}}@keyframes show{0%{width:0;opacity:0}50%{width:150;opacity:0}to{width:auto;opacity:1}}.renderFilter{width:310px}.renderFilter .filter-show-form{width:265px;visibility:visible}.renderFilter .filter-show-form .search-content,.renderFilter .filter-show-form .search-filter,.renderFilter .filter-show-form .search-val{width:auto}.renderFilter .filter-show-form .search-val{width:100%}.renderFilter .filter-show-form .search-content{width:150px}.renderFilter .filter-show-form .filter-container,.renderFilter .filter-show-form ul{width:100px}',""])},vlW7:function(e,t,r){var i=r("0wzL");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);r("rjj0")("61dceb34",i,!0,{sourceMap:!1})}});
//# sourceMappingURL=searchForm.4d2272e6ec79ad1fa854.js.map