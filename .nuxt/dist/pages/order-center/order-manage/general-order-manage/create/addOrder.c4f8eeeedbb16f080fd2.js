webpackJsonp([43],{"+H/r":function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"com-select-customers"},[r("Select",{attrs:{"v-model":e.customer,filterable:"",remote:"",placeholder:e.value,"remote-method":e.remoteCustomer,loading:e.loading1,disabled:e.disabled,"label-in-value":e.labelInValue},on:{"on-change":e.changeContent}},e._l(e.customerOptions,function(t,o){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1)},a=[],n={render:o,staticRenderFns:a};t.a=n},"+nse":function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,".com-select-community ::-webkit-input-placeholder{color:#666}.com-select-community ::-moz-placeholder{color:#666}.com-select-community :-ms-input-placeholder{color:#666}.com-select-community input:-moz-placeholder{color:#666}",""])},"+xrW":function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,'.required-label[data-v-7f93f283]{font-size:14px;position:relative;margin-left:5px}.required-label.required-label[data-v-7f93f283]:before{content:"*";color:red;position:absolute;font-size:18px;left:-7px;top:14px}.pay-error[data-v-7f93f283]{color:#ed3f14}.vertical-center-modal[data-v-7f93f283]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.vertical-center-modal .ivu-modal[data-v-7f93f283]{top:0}',""])},"4O/J":function(e,t,r){"use strict";t.a={name:"detailStyle",props:["info"]}},"77Yh":function(e,t,r){"use strict";function o(e){r("ev4r")}var a=r("e4V2"),n=r("OVYt"),i=r("VU/8"),l=o,s=i(a.a,n.a,!1,l,null,null);t.a=s.exports},"9pIO":function(e,t,r){"use strict";function o(e,t){if(e)for(var r=e.querySelectorAll(".ivu-table-sort"),o=0;o<r.length;o++){var n=r[o];n.style.width="auto",n.style.height="40px";var i=n.parentNode,l=i.querySelectorAll("span")[0].innerHTML;a(n,e,l,t)}}function a(e,t,r,o){e.innerHTML="";var a=document.createElement("span");a.className=i("init"),e.appendChild(a),a.onclick=function(e){var a=e.target,s=a.className;l(t),a.className=i(s),o({label:r,order:n(s)})}}function n(e){return"kr-table-sort-icon-asc"===e?"desc":"asc"}function i(e){switch(e){case"kr-table-sort-icon-init":return"kr-table-sort-icon-asc";case"kr-table-sort-icon-asc":return"kr-table-sort-icon-desc";case"kr-table-sort-icon-desc":return"kr-table-sort-icon-asc";default:return"kr-table-sort-icon-init"}}function l(e){for(var t=e.querySelectorAll(".ivu-table-sort span"),r=0;r<t.length;r++){t[r].className=i("init")}}t.a=o},Asao:function(e,t,r){"use strict";function o(){switch((0,Object.prototype.toString.call)(0)){case"[object String]":return"string";case"[object Number]":return"number";case"[object Boolean]":return"boolean";case"[object Symbol]":return"symbol";case"[object Undefined]":return"undefined";case"[object Null]":return"null";case"[object Function]":return"function";case"[object Date]":return"date";case"[object Array]":return"array";case"[object RegExp]":return"regExp";case"[object Error]":return"error";case"[object HTMLDocument]":return"node";case"[object global]":return"global"}}t.a=o},EImE:function(e,t,r){"use strict";function o(e){r("GfCn")}Object.defineProperty(t,"__esModule",{value:!0});var a=r("hLGB"),n=r("JVb4"),i=r("VU/8"),l=o,s=i(a.a,n.a,!1,l,"data-v-7f93f283",null);t.default=s.exports},Eqh0:function(e,t,r){"use strict";function o(e){if(e){return n.a.dateToStr("YYYY/MM/DD HH:mm:SS",new Date(e)).replace(/\//g,"-")}return""}var a=r("g4Hp"),n=r.n(a);t.a=o},GfCn:function(e,t,r){var o=r("+xrW");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("345755a1",o,!0,{sourceMap:!1})},IoNu:function(e,t){e.exports=function(e,t,r,o){function a(){function a(){i=Number(new Date),r.apply(s,u)}function l(){n=void 0}var s=this,c=Number(new Date)-i,u=arguments;o&&!n&&a(),n&&clearTimeout(n),void 0===o&&c>e?a():!0!==t&&(n=setTimeout(o?l:a,void 0===o?e-c:e))}var n,i=0;return"boolean"!=typeof t&&(o=r,r=t,t=void 0),a}},J0i4:function(e,t,r){"use strict";function o(e){r("pY0k")}var a=r("tBD1"),n=r("P67S"),i=r("VU/8"),l=o,s=i(a.a,n.a,!1,l,"data-v-872aada8",null);t.a=s.exports},JVb4:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"create-new-order"},[r("sectionTitle",{attrs:{label:"新建订单"}}),r("div",{staticStyle:{padding:"0 24px"}},[r("Form",{ref:"formItem",staticClass:"creat-order-form",attrs:{model:e.formItem,rules:e.ruleCustom}},[r("Row",[r("Col",{staticClass:"col"},[r("FormItem",{staticStyle:{width:"252px"},attrs:{label:"客户名称",prop:"customerId"}},[r("selectCustomers",{attrs:{url:"get-customers-order-currency",name:"formItem.customerId",onchange:e.onCustomerChange}})],1)],1),r("Col",{staticClass:"col"},[r("FormItem",{staticStyle:{width:"252px"},attrs:{label:"社区名称",prop:"communityId"}},[r("selectCommunities",{attrs:{test:"formItem",onchange:e.onCommunityChange}})],1)],1),r("Col",{staticClass:"col"},[r("FormItem",{staticStyle:{width:"252px"},attrs:{label:"订单类型",prop:"orderType"}},[r("Select",{staticStyle:{width:"252px"},attrs:{placeholder:"请输入订单类型",clearable:""},on:{"on-change":e.onTypeChange},model:{value:e.formItem.orderType,callback:function(t){e.$set(e.formItem,"orderType",t)},expression:"formItem.orderType"}},e._l(e.typeList,function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v("\n                          "+e._s(t.desc)+"\n                      ")])}))],1)],1),r("Col",{directives:[{name:"show",rawName:"v-show",value:e.type,expression:"type"}],staticClass:"col"},[r("FormItem",{staticStyle:{width:"252px"},attrs:{label:"费用明细类型",prop:"feeType"}},[r("Select",{staticStyle:{width:"252px"},attrs:{placeholder:"请输入费用明细类型",clearable:""},model:{value:e.formItem.feeType,callback:function(t){e.$set(e.formItem,"feeType",t)},expression:"formItem.feeType"}},e._l(e.freeList,function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v("\n                          "+e._s(t.desc)+"\n                      ")])}))],1)],1),r("Col",{staticClass:"col"},[r("Form-item",{staticStyle:{width:"252px"},attrs:{label:"订单金额",prop:"money"}},[r("i-input",{staticStyle:{width:"252px"},attrs:{placeholder:"请输入订单金额"},model:{value:e.formItem.money,callback:function(t){e.$set(e.formItem,"money",t)},expression:"formItem.money"}})],1)],1),r("Col",{staticClass:"col"},[r("FormItem",{staticStyle:{width:"252px"},attrs:{label:"销售员",prop:"salesperson"}},[r("SelectSaler",{attrs:{name:"formItem.salesperson",onchange:e.onSalerChange,value:e.salerName}})],1)],1),r("Col",{staticClass:"col"},[r("FormItem",{staticStyle:{width:"252px"},attrs:{label:"销售日期",prop:"saleDate"}},[r("DatePicker",{staticStyle:{display:"block"},attrs:{type:"date",placeholder:"销售日期",format:"yyyy-MM-dd"},model:{value:e.formItem.saleDate,callback:function(t){e.$set(e.formItem,"saleDate",t)},expression:"formItem.saleDate"}})],1)],1),r("Col",{staticClass:"col"},[r("FormItem",{staticStyle:{width:"252px"},attrs:{label:"部门",prop:"department"}},[r("Select",{staticStyle:{width:"252px"},attrs:{placeholder:"请输入部门",clearable:""},model:{value:e.formItem.department,callback:function(t){e.$set(e.formItem,"department",t)},expression:"formItem.department"}},e._l(e.departmentList,function(t){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v("\n                          "+e._s(t.desc)+"\n                      ")])}))],1)],1),e.isAddDesk?r("Col",{staticClass:"col"},[r("FormItem",{staticStyle:{width:"252px"},attrs:{label:"服务开始日",prop:"startTime"}},[r("DatePicker",{staticStyle:{display:"block"},attrs:{type:"date",placeholder:"服务开始日",format:"yyyy-MM-dd"},model:{value:e.formItem.startTime,callback:function(t){e.$set(e.formItem,"startTime",t)},expression:"formItem.startTime"}})],1)],1):e._e(),e.isAddDesk?r("Col",{staticClass:"col"},[r("FormItem",{staticStyle:{width:"252px"},attrs:{label:"服务结束日",prop:"endTime"}},[r("DatePicker",{staticStyle:{display:"block"},attrs:{type:"date",placeholder:"服务结束日",format:"yyyy-MM-dd"},model:{value:e.formItem.endTime,callback:function(t){e.$set(e.formItem,"endTime",t)},expression:"formItem.endTime"}})],1)],1):e._e(),e.isAddDesk?r("Col",{staticClass:"col"},[r("Form-item",{staticStyle:{width:"252px"},attrs:{label:"加桌数量",prop:"deskCount"}},[r("i-input",{staticStyle:{width:"252px"},attrs:{placeholder:"请输入加桌数量"},model:{value:e.formItem.deskCount,callback:function(t){e.$set(e.formItem,"deskCount",t)},expression:"formItem.deskCount"}})],1)],1):e._e(),r("FormItem",{staticStyle:{width:"702px"},attrs:{label:"备注信息",prop:"remark"}},[r("Input",{staticStyle:{width:"100%"},attrs:{maxlength:500,type:"textarea",autosize:{minRows:5,maxRows:5},placeholder:"写入备注..."},model:{value:e.formItem.remark,callback:function(t){e.$set(e.formItem,"remark",t)},expression:"formItem.remark"}}),r("div",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.formItem.remark?e.formItem.remark.length+"/500":"0/500"))])],1)],1),r("FormItem",[r("Button",{attrs:{type:"primary",disabled:e.disabled},on:{click:function(t){e.handleSubmit("formItem")}}},[e._v("提交")])],1)],1)],1)],1)},a=[],n={render:o,staticRenderFns:a};t.a=n},JnUb:function(e,t,r){var o=r("XvJJ");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("428044bc",o,!0,{sourceMap:!1})},"K+LH":function(e,t,r){"use strict";function o(e){r("MyuT")}var a=r("LfLl"),n=r("K6ky"),i=r("VU/8"),l=o,s=i(a.a,n.a,!1,l,null,null);t.a=s.exports},K6ky:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"com-select-saler"},[r("Select",{attrs:{"v-model":e.saler,filterable:"",remote:"",clearable:e.clearable,placeholder:e.value,"remote-method":e.remoteSaler,loading:e.loading1,disabled:e.disabled},on:{"on-change":e.changeContent}},e._l(e.salerOptions,function(t,o){return r("Option",{key:t.label,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1)},a=[],n={render:o,staticRenderFns:a};t.a=n},LfLl:function(e,t,r){"use strict";var o=r("9Jg8");t.a={props:{onchange:Function,value:String,disabled:Boolean,clearable:{type:Boolean,default:!1}},data:function(){return{saler:"",loading1:!1,salerOptions:[]}},methods:{changeContent:function(e){this.onchange(e)},remoteSaler:function(e){var t=this;""!==e&&(this.loading1=!0,setTimeout(function(){t.getSalerList(e)},200))},getSalerList:function(e){var t={phoneOrEmail:e},r=[],a=this;o.a.get("get-saler",t,function(e){r=e.data.slice(0,10),r.map(function(e){var t=e;return t.label=e.lastname,t.value=e.id+"",t}),a.loading1=!1,a.salerOptions=r},function(e){console.log("error",e)})}}}},MyuT:function(e,t,r){var o=r("P75S");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("041bc169",o,!0,{sourceMap:!1})},NVoV:function(e,t,r){var o=r("Nknv");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("35938d8c",o,!0,{sourceMap:!1})},Nknv:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,".create-new-order{padding-bottom:60px}.create-new-order .creat-order-form{max-width:1140px;padding:30px 0}.create-new-order .creat-order-form .col{display:inline-block;width:50%;max-width:450px;padding-right:10px;vertical-align:top}.create-new-order .creat-order-form .total-money{border:1px solid #e9eaec;border-top:0;height:48px;line-height:48px;text-align:right;padding-right:28px;margin-bottom:20px}.create-new-order .creat-order-form .total-money span+span{margin-left:20px}.create-new-order .creat-order-form .total-money .money{color:#ff6868}.create-new-order .creat-order-form .button-list{font-size:14px;color:#499df1;display:inline-block;border:1px solid #499df1;border-radius:4px;margin-right:5px;height:32px;line-height:32px;padding:0 14px;cursor:pointer;margin-bottom:10px}.create-new-order .creat-order-form .active{background-color:#499df1;color:#fff}.create-new-order .creat-order-form .discount-table-head{background:#f5f6fa;height:50px;line-height:50px;text-align:center;font-weight:500;border:1px solid #e9eaec;border-left:none;border-right:none;border-left:1px solid #e9eaec}.create-new-order .creat-order-form .discount-table-content{background:#fff;padding:0 15px;height:50px;line-height:50px;text-align:center;border-left:1px solid #e9eaec;border-bottom:1px solid #e9eaec}.create-new-order .creat-order-form .lastRow{border-bottom:1px solid #e9eaec;margin-bottom:20px}",""])},NpwQ:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"ui-detail-layout"},[r("div",{staticClass:"ui-content-title"},[r("span",{staticClass:"ui-circle"},[e._v(e._s(e.info))])]),e._t("default")],2)},a=[],n={render:o,staticRenderFns:a};t.a=n},OVYt:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"com-select-community"},[r("Select",{attrs:{"v-model":e.test.communityId,filterable:"",placeholder:e.value,disabled:e.disabled},on:{"on-change":e.changeContent}},e._l(e.options1,function(t,o){return r("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1)},a=[],n={render:o,staticRenderFns:a};t.a=n},P67S:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.classType[e.type]},[e._v("\n    "+e._s(e.title)+"\n")])},a=[],n={render:o,staticRenderFns:a};t.a=n},P75S:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,".com-select-saler ::-webkit-input-placeholder{color:#666}.com-select-saler ::-moz-placeholder{color:#666}.com-select-saler :-ms-input-placeholder{color:#666}.com-select-saler input:-moz-placeholder{color:#666}",""])},"Ta+G":function(e,t,r){"use strict";function o(e){var t=e.type;return"DOMMouseScroll"!=t&&"mousewheel"!=t||(e.delta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3),e.srcElement&&!e.target&&(e.target=e.srcElement),e.preventDefault||void 0===e.returnValue||(e.preventDefault=function(){e.returnValue=!1}),e}var a=function(e,t,r,a){console.log("-------"),window.addEventListener?("mousewheel"===t&&void 0!==document.mozFullScreen&&(t="DOMMouseScroll"),e.addEventListener(t,function(e){r(o(e))},a||!1)):window.attachEvent&&e.attachEvent("on"+t,function(e){e=e||window.event,r(o(e))})};t.a=a},Ucgj:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,'.section-title[data-v-872aada8]{border-bottom:1px solid #e8e9e9;height:50px;font-size:16px;color:#666;line-height:50px;padding-left:25px;position:relative}.section-title[data-v-872aada8]:before{height:24px;border:2px solid #499df1;position:absolute;width:0;content:"";display:inline-block;top:12px;left:0}.section-detail-title[data-v-872aada8]{border-bottom:1px solid #e8e9e9;height:50px;font-size:16px;color:#666;line-height:50px;padding-left:15px;position:relative}',""])},XvJJ:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,".com-select-customers ::-webkit-input-placeholder{color:#666}.com-select-customers ::-moz-placeholder{color:#666}.com-select-customers :-ms-input-placeholder{color:#666}.com-select-customers input:-moz-placeholder{color:#666}",""])},bsze:function(e,t,r){"use strict";function o(e){var t=["角","分"],r=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],o=[["元","万","亿"],["","拾","佰","仟"]],a=e<0?"负":"";e=Math.abs(e);var n="",i=(e+"").split(".").length,l="00";i>1&&(l=(e+"").split(".")[1]);for(var s=0;s<t.length;s++)r[l[s]]&&(n+=(r[l[s]]+t[s]).replace(/零./,""));n=n||"整",e=Math.floor(e);for(var s=0;s<o[0].length&&e>0;s++){for(var c="",u=0;u<o[1].length&&e>0;u++)c=r[e%10]+o[1][u]+c,e=Math.floor(e/10);n=c.replace(/(零.)*零$/,"").replace(/^$/,"零")+o[0][s]+n}return a+n.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")}function a(e){for(var t in e)e[t]=""}function n(e,t){var r=[];for(var o in e)e.hasOwnProperty(o)&&r.push(o+"="+e[o]);var t=t+"?"+r.join("&");window.location.href=t}function i(){var e=location.search,t=new Object;if(-1!=e.indexOf("?"))for(var r=e.substr(1),o=r.split("&"),a=0;a<o.length;a++)t[o[a].split("=")[0]]=unescape(o[a].split("=")[1]);return t}function l(e){var t=window.location.href,r=t.split("?")[0],o=[];for(var a in e)e.hasOwnProperty(a)&&o.push(a+"="+e[a]);r=r+"?"+o.join("&"),location.href=r}function s(e){for(var t,r=0,o={},a=[];t=e[r++];){var n=t.id;o[n]||(o[n]=!0,a.push(t))}return a}function c(e,t,r,o){for(var a=0;a<t.length;a++)for(var n=0;n<e.length;n++){var i=r?e[n][r]:e[n],l=o?t[a][o]:t[a];i==l&&e.splice(n,1)}return e}function u(e,t){var r=document.createElement("a");r.href=e,r.download=t,console.log("a--",r,e,t),r.click()}function d(e,t){var r=document.createElement("a");r.href=e,r.target="_blank",r.download=t,r.click()}function m(e,t){return t=parseInt(t,10),new Date(e,t,0).getDate()}function p(e,t){var r,o,a;return r=e.split("-"),o=new Date(r[1]+"/"+r[2]+"/"+r[0]),r=t.split("-"),a=new Date(r[1]+"/"+r[2]+"/"+r[0]),parseInt(Math.abs(o-a)/1e3/60/60/24)}function f(e,t,r){return void 0===r?I()(e,t,!1):I()(e,r,!1!==t)}function h(e,t){var r=new Date(e),o=new Date(r.getFullYear(),r.getMonth(),r.getDate()+t);r.getFullYear(),r.getMonth(),r.getDate();return o.getFullYear()+"-"+(o.getMonth()+1)+"-"+o.getDate()}function g(){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div"),r=t.style;r.position="absolute",r.top=0,r.left=0,r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var o=e.offsetWidth;t.style.overflow="scroll";var a=e.offsetWidth;return o===a&&(a=t.clientWidth),document.body.removeChild(t),o-a}function v(e,t){var r,o,a;return r=e.split("-"),o=new Date(r[1]+"/"+r[2]+"/"+r[0]),r=t.split("-"),a=new Date(r[1]+"/"+r[2]+"/"+r[0]),parseInt(Math.abs(o-a)/1e3/60/60/24)}var b=r("syeK"),y=r("Ta+G"),x=r("Asao"),w=r("IoNu"),I=r.n(w),C=r("Eqh0"),k=r("9pIO");t.a={smalltoBIG:o,clearForm:a,commonExport:n,getRequest:i,addParams:l,arrayNoRepeat:s,arrayCompare:c,thousand:b.a,downFile:u,addEvent:y.a,dataType:x.a,getDaysInOneMonth:m,dateDiff:p,debounce:f,getScrollBarSize:g,dateCompatible:C.a,tableSort:k.a,dateRange:h,downImg:d,timeRange:v}},e0mU:function(e,t,r){"use strict";var o=r("9Jg8");t.a={props:{onchange:Function,value:String,disabled:Boolean,labelInValue:{default:!1,type:Boolean},url:{type:String,default:"get-customer"}},data:function(){return{customer:"",loading1:!1,customerOptions:[]}},mounted:function(){this.remoteCustomer()},methods:{changeContent:function(e){this.onchange(e)},remoteCustomer:function(e){var t=this;this.loading1=!0,setTimeout(function(){t.getCusomerList(e)},200)},getCusomerList:function(e){var t={company:e||""},r=[],a=this;return o.a.get(this.url,t,function(e){r=e.data.customerList,r.map(function(e){var t=e;return t.label=e.company,t.value=e.id+"",t}),a.loading1=!1,a.customerOptions=r},function(e){console.log("error---\x3e",e)}),r}}}},e4V2:function(e,t,r){"use strict";r("9Jg8");t.a={props:["onchange","test","value","disabled"],data:function(){return{community:"",loading1:!1,options1:[],labelInValue:!0,clearable:!0}},mounted:function(){this.getCusomerList(" ")},methods:{changeContent:function(e){this.onchange(e)},remoteMethod1:function(e){var t=this;""!==e?(this.loading1=!0,setTimeout(function(){t.loading1=!1,t.getCusomerList(e)},200)):this.getCusomerList(" ")},getCusomerList:function(e){var t=this,r=[],o=this;this.$http.get("join-bill-community","").then(function(e){r=e.data.items,r.map(function(e){var t=e;return t.label=e.name,t.value=e.id+"",t}),o.loading1=!1,o.options1=r}).catch(function(e){t.$Notice.error({title:e.message})})}}}},ev4r:function(e,t,r){var o=r("+nse");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("19ee93de",o,!0,{sourceMap:!1})},gnYt:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,'.u-clearfix{zoom:1}.u-clearfix:after{clear:both;content:".";height:0;display:block;visibility:hidden}.left{float:left}.ui-detail-layout{padding:0 24px;font-size:14px;color:#333;line-height:14px}.ui-detail-layout .ui-content-title{margin-bottom:24px}.ui-detail-layout .ui-circle{font-weight:700}.ui-detail-layout .ui-circle:before{content:"";width:7px;height:7px;display:inline-block;border:1px solid #333;border-radius:100% 100%;margin-right:6px;vertical-align:middle;margin-top:-3px}',""])},hLGB:function(e,t,r){"use strict";var o=r("woOf"),a=r.n(o),n=r("J0i4"),i=r("77Yh"),l=r("qehU"),s=r("K+LH"),c=r("yWLh"),u=r("g4Hp"),d=r.n(u),m=r("NVoV"),p=(r.n(m),r("bsze"));t.a={head:function(){return{title:"新建订单"}},data:function(){var e=this,t=function(e,t,r){var o=/^(([1-9]{1}[0-9]{0,11})|([0]\.\d{1,2}|[1-9]{1}[0-9]{0,11}\.\d{1,2}))$/;""===t?r(new Error("请填写金额")):isNaN(t)?r(new Error("金额为数字")):o.test(t)?r():r(new Error("请填写整数位最多12位，小数位最多两位的正数"))},r=function(t,r,o){r?e.formItem.startTime&&e.formItem.endTime&&e.formItem.startTime>e.formItem.endTime?o(new Error("后者需要大于前者")):o():o(new Error("请填写日期"))};return{isAddDesk:!1,disabled:!1,typeList:[],freeList:[],type:!1,departmentList:[],formItem:{customerId:1,communityId:1,saleDate:"",orderType:"",remark:"",salesperson:1,money:"",feeType:"",department:"",startTime:"",endTime:"",deskCount:""},ruleCustom:{saleDate:[{required:!0,type:"date",message:"请选择销售日期",trigger:"change"}],money:[{required:!0,trigger:"change",validator:t}],communityId:[{required:!0,message:"请选择社区",trigger:"change"}],customerId:[{required:!0,message:"请选择客户",trigger:"change"}],salesperson:[{required:!0,message:"请选择销售员",trigger:"change"}],orderType:[{required:!0,message:"请选择订单类型",trigger:"change"}],feeType:[{required:!0,message:"请选择费用明细类型",trigger:"change"}],startTime:[{validator:r,type:"date",required:!0,trigger:"change"}],endTime:[{validator:r,type:"date",required:!0,trigger:"change"}],deskCount:[{validator:function(e,t,r){var o=/^\+?[1-9]\d*$/;t?t&&!o.test(t)?r(new Error("输入正整数")):t&&t.length>10?r(new Error("最多10位")):r():r(new Error("请填写加桌数量"))},required:!0,trigger:"change"}]},salerName:"请选择"}},components:{sectionTitle:n.a,selectCommunities:i.a,DetailStyle:c.a,selectCustomers:l.a,SelectSaler:s.a},mounted:function(){GLOBALSIDESWITCH("false"),this.getTypeData(),this.getDepartmentData()},methods:{dateSwitch:function(e){return e?p.a.dateCompatible(e):""},getDepartmentData:function(){var e=this;this.$http.get("get-enum-all-data",{enmuKey:"com.krspace.op.api.enums.orderCurrency.Department"}).then(function(t){e.departmentList=[].concat(t.data)}).catch(function(t){e.$Notice.error({title:t.message})})},submitForm:function(){var e=d.a.dateToStr("YYYY-MM-dd 00:00:00",new Date(this.formItem.saleDate));this.formItem.startTime=this.dateSwitch(this.formItem.startTime),this.formItem.endTime=this.dateSwitch(this.formItem.endTime);var t={};t.saleDate=e;var r=a()({},this.formItem,t),o=this;this.$http.post("general-order-add",r,function(e){window.close(),window.opener.location.reload()},function(e){o.disabled=!1,o.$Notice.error({title:e.message})})},handleSubmit:function(e){var t=this;this.$Notice.config({top:80,duration:3});var r=this;this.$refs[e].validate(function(e){e?(t.disabled=!0,t.submitForm()):(r.disabled=!1,t.$Notice.error({title:"请正确填写完表单"}))})},getTypeData:function(){var e=this;this.$http.get("general-common-list","",function(t){e.typeList=t.data.items},function(t){e.$Notice.error({title:t.message})})},getCostData:function(e){var t=this,r={currencyOrderType:e};this.$http.get("general-cost-list",r,function(e){t.freeList=e.data.items},function(e){t.$Notice.error({title:e.message})})},onTypeChange:function(e){this.type=!!e,this.isAddDesk="ADDDESK"==e,e&&this.getCostData(e)},onCommunityChange:function(e){this.formItem.communityId=e||""},onCustomerChange:function(e){this.formItem.customerId=e||""},onSalerChange:function(e){this.formItem.salesperson=e}}}},lNj5:function(e,t,r){var o=r("gnYt");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("65d89b4e",o,!0,{sourceMap:!1})},pY0k:function(e,t,r){var o=r("Ucgj");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);r("rjj0")("f811f5dc",o,!0,{sourceMap:!1})},qehU:function(e,t,r){"use strict";function o(e){r("JnUb")}var a=r("e0mU"),n=r("+H/r"),i=r("VU/8"),l=o,s=i(a.a,n.a,!1,l,null,null);t.a=s.exports},syeK:function(e,t,r){"use strict";function o(e){if(null===e||void 0===e)return 0;if(isNaN(e))return"NaN";var t=e.toString();if(/^-?\d+\.?\d+$/.test(t))if(/^-?\d+$/.test(t))t=t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");else{var r=t.split("."),o=r[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");t=o+"."+r[1]}return t}t.a=o},tBD1:function(e,t,r){"use strict";t.a={props:{title:String,type:{default:"listTitle",type:String}},data:function(){return{classType:{listTitle:"section-title",detailTitle:"section-detail-title"}}}}},yWLh:function(e,t,r){"use strict";function o(e){r("lNj5")}var a=r("4O/J"),n=r("NpwQ"),i=r("VU/8"),l=o,s=i(a.a,n.a,!1,l,null,null);t.a=s.exports}});
//# sourceMappingURL=addOrder.c4f8eeeedbb16f080fd2.js.map