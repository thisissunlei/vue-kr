webpackJsonp([59],{"+7vI":function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".ui-message-content{height:184px}.ui-message-content img{width:100px;height:100px;display:block;margin:20px auto}.ui-message-content .ui-reminder{text-align:center;font-size:18px;line-height:26px;color:#333}.ui-message{position:relative;z-index:1200}.ui-message .ivu-modal-footer{border:none;padding:0}.ui-message .u-txt-green{color:#77cd50}.ui-message .u-txt-red{color:#ff6868}",""])},"6tff":function(e,t,a){e.exports=a.p+"img/error.af8f937.png"},"9pIO":function(e,t,a){"use strict";function n(e,t){if(e)for(var a=e.querySelectorAll(".ivu-table-sort"),n=0;n<a.length;n++){var o=a[n];o.style.width="auto",o.style.height="40px";var r=o.parentNode,s=r.querySelectorAll("span")[0].innerHTML;i(o,e,s,t)}}function i(e,t,a,n){e.innerHTML="";var i=document.createElement("span");i.className=r("init"),e.appendChild(i),i.onclick=function(e){var i=e.target,c=i.className;s(t),i.className=r(c),n({label:a,order:o(c)})}}function o(e){return"kr-table-sort-icon-asc"===e?"desc":"asc"}function r(e){switch(e){case"kr-table-sort-icon-init":return"kr-table-sort-icon-asc";case"kr-table-sort-icon-asc":return"kr-table-sort-icon-desc";case"kr-table-sort-icon-desc":return"kr-table-sort-icon-asc";default:return"kr-table-sort-icon-init"}}function s(e){for(var t=e.querySelectorAll(".ivu-table-sort span"),a=0;a<t.length;a++){t[a].className=r("init")}}t.a=n},AZ5n:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isLoading?e._e():n("div",[n("Modal",{attrs:{title:"下载pdf-",width:"660"},model:{value:e.openDown,callback:function(t){e.openDown=t},expression:"openDown"}},[n("div",{staticStyle:{"text-align":"center","font-size":"16px",color:"#333"}},[e._v("请选择您打印的合同是否需要盖公章？")]),n("div",{staticStyle:{height:"300px"}},[n("div",{staticClass:"cachet-box",on:{click:function(t){e.selectCachet(!1)}}},[n("img",{attrs:{src:a("ZJpB")}}),n("div",[e._v("示例一：未加盖公章的合同")]),n("div",{class:this.isCachet?"select":"select cachet"})]),n("div",{staticClass:"cachet-box",on:{click:function(t){e.selectCachet(!0)}}},[n("img",{attrs:{src:a("lQa8")}}),n("div",[e._v("示例二：加盖公章的合同")]),n("div",{class:this.isCachet?"select cachet":"select"})])]),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"primary"},on:{click:e.downLoadBtn}},[e._v("确定")]),n("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:e.downSwitch}},[e._v("取消")])],1)]),n("div",{staticClass:"box"},[e.openPage?n("KrPdf",{attrs:{pdfurl:e.src,downSwitch:e.downSwitch}}):e._e()],1)],1),e.isLoading?n("Loading"):e._e(),n("Message",{attrs:{type:e.MessageType,openMessage:e.openMessage,warn:e.warn},on:{changeOpen:e.onMessageChange}})],1)},i=[],o={render:n,staticRenderFns:i};t.a=o},Asao:function(e,t,a){"use strict";function n(){switch((0,Object.prototype.toString.call)(0)){case"[object String]":return"string";case"[object Number]":return"number";case"[object Boolean]":return"boolean";case"[object Symbol]":return"symbol";case"[object Undefined]":return"undefined";case"[object Null]":return"null";case"[object Function]":return"function";case"[object Date]":return"date";case"[object Array]":return"array";case"[object RegExp]":return"regExp";case"[object Error]":return"error";case"[object HTMLDocument]":return"node";case"[object global]":return"global"}}t.a=n},BZXI:function(e,t,a){var n=a("kxFB");t=e.exports=a("FZ+f")(!1),t.push([e.i,".box[data-v-66f5cd20]{padding:20px;width:210mm;margin:auto;position:relative}.pdf-box[data-v-66f5cd20]{height:250mm;margin-top:20px;overflow:auto;-webkit-box-shadow:rgba(0,0,0,.12) 0 1px 6px,rgba(0,0,0,.12) 0 1px 4px;box-shadow:0 1px 6px rgba(0,0,0,.12),0 1px 4px rgba(0,0,0,.12)}.cachet-box[data-v-66f5cd20]{width:50%;position:relative;float:left;text-align:center;cursor:pointer}.cachet-box .select[data-v-66f5cd20]{width:60px;height:60px;border-radius:50%;border:2px solid #fff;position:absolute;top:50%;left:50%;margin-left:-31px;margin-top:-31px}.cachet-box .cachet[data-v-66f5cd20]{border:2px solid #7ed321;background:#7ed321 url("+n(a("c2kg"))+") no-repeat;background-size:60%;background-position:50%}",""])},"E/0P":function(e,t,a){"use strict";t.a={props:{pdfurl:String,downSwitch:Function,height:{type:[String,Number],default:"auto"},isScroll:{type:Boolean,default:!0}},data:function(){return{pdfDoc:null,pageNum:1,pageRendering:!1,pageNumPending:null,scale:1.2,page_num:0,page_count:0,maxscale:2,minscale:.8}},methods:{renderPage:function(e){var t=this;this.pageRendering=!0;var a=document.createElement("canvas");a.id="pdf-view"+e,a.className="kr-pdf-page",t.$refs.krPdfViewBox.appendChild(a);var n=document.getElementById("pdf-view"+e),i=n.getContext("2d");this.pdfDoc.getPage(e).then(function(e){var a=e.getViewport(t.scale);n.height=a.height,n.width=a.width;var o={canvasContext:i,viewport:a};e.render(o).promise.then(function(){t.pageRendering=!1,null!==t.pageNumPending&&(t.renderPage(t.pageNumPending),t.pageNumPending=null)})}),t.page_num=t.pageNum},addScale:function(){this.scale>=this.maxscale||(this.scale+=.1,this.queueRenderPage(this.pageNum))},minusScale:function(){this.scale<=this.minscale||(this.scale-=.1,this.queueRenderPage(this.pageNum))},prevPage:function(){var e=this;e.pageNum<=1||(e.pageNum--,e.queueRenderPage(e.pageNum))},nextPage:function(){var e=this;e.pageNum>=e.page_count||(e.pageNum++,e.queueRenderPage(e.pageNum))},queueRenderPage:function(e){this.pageRendering?this.pageNumPending=e:this.renderPage(e)}},mounted:function(){var e=this;PDFJS.getDocument(e.pdfurl).then(function(t,a){e.pdfDoc=t,e.page_count=e.pdfDoc.numPages;for(var n=1;n<=e.page_count;n++)e.renderPage(n)})}}},Eqh0:function(e,t,a){"use strict";function n(e){if(e){return o.a.dateToStr("YYYY/MM/DD HH:mm:SS",new Date(e)).replace(/\//g,"-")}return""}var i=a("g4Hp"),o=a.n(i);t.a=n},GorF:function(e,t,a){"use strict";t.a={}},HJVY:function(e,t,a){var n=a("+7vI");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("03eefe9c",n,!0,{sourceMap:!1})},IMWu:function(e,t,a){e.exports=a.p+"img/success.7b096f4.png"},IoNu:function(e,t){e.exports=function(e,t,a,n){function i(){function i(){r=Number(new Date),a.apply(c,l)}function s(){o=void 0}var c=this,d=Number(new Date)-r,l=arguments;n&&!o&&i(),o&&clearTimeout(o),void 0===n&&d>e?i():!0!==t&&(o=setTimeout(n?s:i,void 0===n?e-d:e))}var o,r=0;return"boolean"!=typeof t&&(n=a,a=t,t=void 0),i}},O4Tp:function(e,t,a){var n=a("BZXI");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("123206ac",n,!0,{sourceMap:!1})},SJmi:function(e,t,a){"use strict";t.a={name:"Message",props:["type","openMessage","warn"],data:function(){return{flag:this.openMessage}},watch:{$props:{deep:!0,handler:function(e){this.flag=e.openMessage}}},updated:function(){var e=this;if("success"==this.type&&this.flag)return void setTimeout(function(){e.flag=!1,e.$emit("changeOpen",e.flag)},1500);this.$emit("changeOpen",this.flag)}}},"Ta+G":function(e,t,a){"use strict";function n(e){var t=e.type;return"DOMMouseScroll"!=t&&"mousewheel"!=t||(e.delta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3),e.srcElement&&!e.target&&(e.target=e.srcElement),e.preventDefault||void 0===e.returnValue||(e.preventDefault=function(){e.returnValue=!1}),e}var i=function(e,t,a,i){console.log("-------"),window.addEventListener?("mousewheel"===t&&void 0!==document.mozFullScreen&&(t="DOMMouseScroll"),e.addEventListener(t,function(e){a(n(e))},i||!1)):window.attachEvent&&e.attachEvent("on"+t,function(e){e=e||window.event,a(n(e))})};t.a=i},UV2T:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".cpdf .center{height:40px;line-height:40px;margin:10px 0}.cpdf .kr-pdf-page{display:block;margin:auto;margin-top:10px;margin-bottom:10px;-webkit-box-shadow:rgba(0,0,0,.12) 0 1px 6px,rgba(0,0,0,.12) 0 1px 4px;box-shadow:0 1px 6px rgba(0,0,0,.12),0 1px 4px rgba(0,0,0,.12)}.cpdf .pdf-box{overflow:auto;width:100%}",""])},XqYN:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".spinner[data-v-2aac378e]{width:60px;height:60px;position:relative;margin:100px auto}.double-bounce1[data-v-2aac378e],.double-bounce2[data-v-2aac378e]{width:100%;height:100%;border-radius:50%;background-color:#328ecc;opacity:.6;position:absolute;top:0;left:0;-webkit-animation:bounceLoading-data-v-2aac378e 2s infinite ease-in-out;animation:bounceLoading-data-v-2aac378e 2s infinite ease-in-out}.double-bounce2[data-v-2aac378e]{-webkit-animation-delay:-1s;animation-delay:-1s}@-webkit-keyframes bounceLoading-data-v-2aac378e{0%,to{-webkit-transform:scale(0)}50%{-webkit-transform:scale(1)}}@keyframes bounceLoading-data-v-2aac378e{0%,to{transform:scale(0);-webkit-transform:scale(0)}50%{transform:scale(1);-webkit-transform:scale(1)}}.ui-ladding-dowm[data-v-2aac378e]{float:left;width:100%;margin:0 5px;border-radius:5px;text-align:center;background-color:transparent}.ui-ladding-dowm-line[data-v-2aac378e]{display:inline-block;width:10px;height:10px;border-radius:15px;background-color:#499df1;margin:0 3px}.ui-ladding-dowm-1[data-v-2aac378e],.ui-ladding-dowm-2[data-v-2aac378e]{-webkit-animation:k-loadingP-data-v-2aac378e 1s infinite;animation:k-loadingP-data-v-2aac378e 1s infinite}.ui-ladding-dowm-2[data-v-2aac378e]{-webkit-animation-delay:.15s;animation-delay:.15s}.ui-ladding-dowm-3[data-v-2aac378e]{-webkit-animation:k-loadingP-data-v-2aac378e 1s infinite;animation:k-loadingP-data-v-2aac378e 1s infinite;-webkit-animation-delay:.3s;animation-delay:.3s}.ui-ladding-dowm-4[data-v-2aac378e]{-webkit-animation:k-loadingP-data-v-2aac378e 1s infinite;animation:k-loadingP-data-v-2aac378e 1s infinite;-webkit-animation-delay:.45s;animation-delay:.45s}@-webkit-keyframes k-loadingP-data-v-2aac378e{0%{-webkit-transform:scale(1);transform:scale(1);opacity:.9}50%{-webkit-transform:scale(.5);transform:scale(.5);opacity:.3}to{-webkit-transform:scale(1);transform:scale(1);opacity:.9}}@keyframes k-loadingP-data-v-2aac378e{0%{-webkit-transform:scale(1);transform:scale(1);opacity:.9}50%{-webkit-transform:scale(.5);transform:scale(.5);opacity:.3}to{-webkit-transform:scale(1);transform:scale(1);opacity:.9}}",""])},Xrh2:function(e,t,a){"use strict";function n(e){a("HJVY")}var i=a("SJmi"),o=a("qaDt"),r=a("VU/8"),s=n,c=r(i.a,o.a,!1,s,null,null);t.a=c.exports},ZJpB:function(e,t,a){e.exports=a.p+"img/noCachet.fb035f6.png"},bsze:function(e,t,a){"use strict";function n(e){var t=["角","分"],a=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"],n=[["元","万","亿"],["","拾","佰","仟"]],i=e<0?"负":"";e=Math.abs(e);var o="",r=(e+"").split(".").length,s="00";r>1&&(s=(e+"").split(".")[1]);for(var c=0;c<t.length;c++)a[s[c]]&&(o+=(a[s[c]]+t[c]).replace(/零./,""));o=o||"整",e=Math.floor(e);for(var c=0;c<n[0].length&&e>0;c++){for(var d="",l=0;l<n[1].length&&e>0;l++)d=a[e%10]+n[1][l]+d,e=Math.floor(e/10);o=d.replace(/(零.)*零$/,"").replace(/^$/,"零")+n[0][c]+o}return i+o.replace(/(零.)*零元/,"元").replace(/(零.)+/g,"零").replace(/^整$/,"零元整")}function i(e){for(var t in e)e[t]=""}function o(e,t){var a=[];for(var n in e)e.hasOwnProperty(n)&&a.push(n+"="+e[n]);var t=t+"?"+a.join("&");window.location.href=t}function r(){var e=location.search,t=new Object;if(-1!=e.indexOf("?"))for(var a=e.substr(1),n=a.split("&"),i=0;i<n.length;i++)t[n[i].split("=")[0]]=unescape(n[i].split("=")[1]);return t}function s(e){var t=window.location.href,a=t.split("?")[0],n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(i+"="+e[i]);a=a+"?"+n.join("&"),location.href=a}function c(e){for(var t,a=0,n={},i=[];t=e[a++];){var o=t.id;n[o]||(n[o]=!0,i.push(t))}return i}function d(e,t,a,n){for(var i=0;i<t.length;i++)for(var o=0;o<e.length;o++){var r=a?e[o][a]:e[o],s=n?t[i][n]:t[i];r==s&&e.splice(o,1)}return e}function l(e,t){var a=document.createElement("a");a.href=e,a.download=t,console.log("a--",a,e,t),a.click()}function u(e,t){var a=document.createElement("a");a.href=e,a.target="_blank",a.download=t,a.click()}function p(e,t){return t=parseInt(t,10),new Date(e,t,0).getDate()}function f(e,t){var a,n,i;return a=e.split("-"),n=new Date(a[1]+"/"+a[2]+"/"+a[0]),a=t.split("-"),i=new Date(a[1]+"/"+a[2]+"/"+a[0]),parseInt(Math.abs(n-i)/1e3/60/60/24)}function g(e,t,a){return void 0===a?k()(e,t,!1):k()(e,a,!1!==t)}function h(e,t){var a=new Date(e),n=new Date(a.getFullYear(),a.getMonth(),a.getDate()+t);a.getFullYear(),a.getMonth(),a.getDate();return n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()}function m(){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var t=document.createElement("div"),a=t.style;a.position="absolute",a.top=0,a.left=0,a.pointerEvents="none",a.visibility="hidden",a.width="200px",a.height="150px",a.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var i=e.offsetWidth;return n===i&&(i=t.clientWidth),document.body.removeChild(t),n-i}function v(e,t){var a,n,i;return a=e.split("-"),n=new Date(a[1]+"/"+a[2]+"/"+a[0]),a=t.split("-"),i=new Date(a[1]+"/"+a[2]+"/"+a[0]),parseInt(Math.abs(n-i)/1e3/60/60/24)}var b=a("syeK"),w=a("Ta+G"),x=a("Asao"),y=a("IoNu"),k=a.n(y),P=a("Eqh0"),M=a("9pIO");t.a={smalltoBIG:n,clearForm:i,commonExport:o,getRequest:r,addParams:s,arrayNoRepeat:c,arrayCompare:d,thousand:b.a,downFile:l,addEvent:w.a,dataType:x.a,getDaysInOneMonth:p,dateDiff:f,debounce:g,getScrollBarSize:m,dateCompatible:P.a,tableSort:M.a,dateRange:h,downImg:u,timeRange:v}},c2kg:function(e,t,a){e.exports=a.p+"img/check.0125047.svg"},im2h:function(e,t,a){var n=a("UV2T");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("cf4709e6",n,!0,{sourceMap:!1})},ip17:function(e,t,a){"use strict";function n(e){a("ztlA")}var i=a("GorF"),o=a("wRqU"),r=a("VU/8"),s=n,c=r(i.a,o.a,!1,s,"data-v-2aac378e",null);t.a=c.exports},juC6:function(e,t,a){"use strict";function n(e){a("im2h")}var i=a("E/0P"),o=a("vVuc"),r=a("VU/8"),s=n,c=r(i.a,o.a,!1,s,null,null);t.a=c.exports},lQa8:function(e,t,a){e.exports=a.p+"img/cachet.21ed40f.png"},pJzK:function(e,t,a){"use strict";var n=a("bsze"),i=a("ip17"),o=a("juC6"),r=a("Xrh2");t.a={components:{Loading:i.a,KrPdf:o.a,Message:r.a},data:function(){return{isCachet:!1,openDown:!1,fileId:"100100",src:"",numPages:1,page:1,openPage:!1,newWin:"",isLoading:!1,MessageType:"error",openMessage:!1,warn:"",time:new Date}},mounted:function(){GLOBALSIDESWITCH("false"),this.config(),this.getPdfId()},methods:{getPdfId:function(){var e=this,t=n.a.getRequest();t.contractType="NOSEAL",this.$http.get("get-station-contract-pdf-id",t,function(t){e.fileId=t.data.fileId||"",e.getPdfUrl(t.data.fileId||""),e.isLoading=!1},function(t){if((new Date).getTime()-e.time.getTime()>3e4)return e.openMessage=!0,e.warn=t.message,void(e.isLoading=!1);e.isLoading=!0,setTimeout(function(){e.getPdfId()},2e3)})},selectCachet:function(e){this.isCachet=e},getNumPage:function(e){this.numPages=e||1},pageReduce:function(){1==this.page?this.page=1:this.page-=1},pageAdd:function(){this.page==this.numPages?this.page=this.numPages:this.page+=1},config:function(){this.$Notice.config({top:80,duration:3})},getPdfUrl:function(e){var t=this,a={id:e};this.$http.post("get-station-contract-pdf-url",a,function(e){t.src=e.data,t.openPage=!0},function(e){e.message||(e.message="后台出错请联系管理员"),t.$Message.info(e)})},downLoadBtn:function(){this.config();var e=n.a.getRequest();this.isCachet?e.contractType="HAVESEAL":e.contractType="NOSEAL",this.downLoadPdf(e),this.downSwitch()},downLoadPdf:function(e){var t=this;this.$http.post("contract-list-get-pdf-url",e,function(e){n.a.downFile(e.data)},function(e){t.$Notice.error({title:e.message||"后台出错请联系管理员"})})},onMessageChange:function(e){this.openMessage=e},downSwitch:function(){this.openDown=!this.openDown}}}},q3Bk:function(e,t,a){"use strict";function n(e){a("O4Tp")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("pJzK"),o=a("AZ5n"),r=a("VU/8"),s=n,c=r(i.a,o.a,!1,s,"data-v-66f5cd20",null);t.default=c.exports},qaDt:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Modal",{staticClass:"ui-message",attrs:{width:"443"},model:{value:e.flag,callback:function(t){e.flag=t},expression:"flag"}},[n("div",{staticClass:"ui-message-content"},["success"==e.type?n("div",[n("img",{attrs:{src:a("IMWu")}}),n("p",{staticClass:"ui-reminder",domProps:{innerHTML:e._s(e.warn)}})]):"error"==e.type?n("div",[n("img",{attrs:{src:a("6tff")}}),n("p",{staticClass:"ui-reminder",domProps:{innerHTML:e._s(e.warn)}})]):e._e()]),n("div",{attrs:{slot:"footer"},slot:"footer"})])},i=[],o={render:n,staticRenderFns:i};t.a=o},syeK:function(e,t,a){"use strict";function n(e){if(null===e||void 0===e)return 0;if(isNaN(e))return"NaN";var t=e.toString();if(/^-?\d+\.?\d+$/.test(t))if(/^-?\d+$/.test(t))t=t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");else{var a=t.split("."),n=a[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,");t=n+"."+a[1]}return t}t.a=n},vVuc:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cpdf"},[a("div",{staticClass:"center"},[a("Button",{attrs:{type:"info"},on:{click:e.downSwitch}},[e._v("下载pdf")]),a("div",{staticStyle:{float:"right",padding:"0px 0px 0px 20px"}})],1),a("div",{ref:"krPdfViewBox",staticClass:"pdf-box"})])},i=[],o={render:n,staticRenderFns:i};t.a=o},wRqU:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"spinner"},[a("div",{staticClass:"double-bounce1"}),a("div",{staticClass:"double-bounce2"})])}],o={render:n,staticRenderFns:i};t.a=o},ztlA:function(e,t,a){var n=a("XqYN");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a("rjj0")("3d08a727",n,!0,{sourceMap:!1})}});
//# sourceMappingURL=pdf-view.112e0a35667510e11af8.js.map