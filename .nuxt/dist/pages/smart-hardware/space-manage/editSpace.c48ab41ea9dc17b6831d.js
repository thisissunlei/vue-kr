webpackJsonp([147],{L5NK:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"g-eidt-space"},[o("Form",{ref:"formItem",attrs:{model:t.formItem,rules:t.ruleCustom,"label-width":80}},[o("FormItem",{staticStyle:{width:"300px"},attrs:{label:"选择社区",prop:"communityId"}},[o("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",filterable:"",clearable:"",value:"communityName"},on:{"on-change":t.communityChange},model:{value:t.formItem.communityId,callback:function(e){t.$set(t.formItem,"communityId",e)},expression:"formItem.communityId"}},t._l(t.communityList,function(e){return o("Option",{key:e.id,attrs:{value:""+e.id}},[t._v(t._s(e.name))])}))],1),o("FormItem",{staticStyle:{width:"300px"},attrs:{label:"楼层",prop:"floor"}},[o("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",clearable:"",filterable:"",value:"floorName"},model:{value:t.formItem.floor,callback:function(e){t.$set(t.formItem,"floor",e)},expression:"formItem.floor"}},t._l(t.floorList,function(e){return o("Option",{key:e.value,attrs:{value:""+e.value}},[t._v(t._s(e.label))])}))],1),o("FormItem",{staticStyle:{width:"300px"},attrs:{label:"空间名称",prop:"name"}},[o("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入空间名称"},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}})],1),o("FormItem",{staticStyle:{width:"300px"},attrs:{label:"空间类型",prop:"type"}},[o("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择",clearable:""},model:{value:t.formItem.type,callback:function(e){t.$set(t.formItem,"type",e)},expression:"formItem.type"}},t._l(t.typeList,function(e){return o("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}))],1),o("FormItem",{staticClass:"u-btn-list",staticStyle:{"padding-left":"24px","margin-top":"40px"}},[o("Button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formItem")}}},[t._v("确定")]),o("Button",{staticStyle:{"margin-left":"8px"},attrs:{type:"ghost"},on:{click:t.showCreate}},[t._v("取消")])],1)],1)],1)},a=[],n={render:i,staticRenderFns:a};e.a=n},nL6Y:function(t,e,o){"use strict";function i(t){o("zG0+")}Object.defineProperty(e,"__esModule",{value:!0});var a=o("uGJ8"),n=o("L5NK"),r=o("VU/8"),m=i,l=r(a.a,n.a,!1,m,null,null);e.default=l.exports},uGJ8:function(t,e,o){"use strict";var i=o("woOf"),a=o.n(i),n=o("mvHQ"),r=o.n(n);e.a={props:{close:Function,submit:Function,detail:Object},data:function(){return{formItem:{communityId:"",floor:"",name:"",type:""},communityList:[],floorList:[],communityName:"",floorName:"",typeList:[{label:"路演厅",value:"ROADSHOW_HALL"},{label:"开放区",value:"OPEN_ZONE"},{label:"走廊",value:"AISLE"},{label:"通用空间",value:"COMMON"}],ruleCustom:{communityId:[{required:!0,message:"请选择社区",trigger:"change"}],floor:[{required:!0,message:"请选择楼层",trigger:"change"}],name:[{required:!0,message:"请输入空间名称",trigger:"change"}],type:[{required:!0,message:"请选择空间类型",trigger:"change"}]}}},created:function(){},mounted:function(){this.getCommunityList(),this.getInfo()},methods:{getInfo:function(){var t=this,e=r()(this.detail.id),o={id:e},i=this;this.$http.get("get-space-edit-info",o).then(function(e){var o=a()({},e.data);o.communityId=r()(e.data.communityId),o.floor=r()(e.data.floor),t.formItem=o,t.formItem.communityId=o.communityId,t.communityName=e.data.communityName,t.floorName=e.data.floor,setTimeout(function(){i.communityChange(e.data.communityId,e.data.floor)},100)}).catch(function(e){t.$Notice.error({title:e.message})})},showCreate:function(){this.close&&this.close()},getCommunityList:function(){var t=this;this.$http.get("get-space-community-list","").then(function(e){e.data.items.map(function(t,e){return t.label=t.name,t.value=t.id,t}),t.communityList=e.data.items,console.log(t.communityList)}).catch(function(e){t.$Notice.error({title:e.message})})},communityChange:function(t,e){this.floorLis=[],this.formItem.floor="",e&&(this.formItem.floor=r()(e),this.floorName=e),t&&this.getFloor(t)},getFloor:function(t){var e=this,o={communityId:t};this.$http.get("get-space-floor",o).then(function(t){var o=[];t.data.floors.map(function(t,e){var i={};i.label=t,i.value=t,o.push(i)}),e.floorList=o}).catch(function(t){e.$Notice.error({title:t.message})})},handleSubmit:function(){var t=this,e=r()(this.detail.id),o=a()({},this.formItem);o.spaceId=e,this.$refs.formItem.validate(function(e){e&&t.submit&&t.submit(o)})}}}},x8bQ:function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,".g-eidt-space{width:300px;margin:10px auto 0}.g-eidt-space .u-btn-list .ivu-form-item-content{margin-left:60px!important}",""])},"zG0+":function(t,e,o){var i=o("x8bQ");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o("rjj0")("2e1d7b2f",i,!0,{sourceMap:!1})}});
//# sourceMappingURL=editSpace.c48ab41ea9dc17b6831d.js.map